{"file_rel": "jinx\\micro\\conversation\\cont\\anchors.py", "file_sha256": "5d4ed860c02bad07c88b805a47d9fda288d5d2d1db26a5527354f54a22f318df", "updated_ts": 1760763310.6889274, "total_chunks": 6, "chunks": [{"sha": "108ca5cb29efe4cf0bfa4df21f818bd545ed8a4729429d3a9e72dd7f88d3c938", "index": 0, "path": "4fd0ca04__jinx__micro__conversation__cont__anchors.py\\108ca5cb29efe4cf0bfa4df21f818bd545ed8a4729429d3a9e72dd7f88d3c938.json", "terms": ["and", "rruuffbb", "str", "code", "return", "like", "for", "from", "list", "not", "any", "def", "false", "import", "len", "line", "question", "true", "while", "__future__", "_extract_strings_from_code", "_looks_like_question", "agnostic", "annotations", "arabic"], "text_preview": "from __future__ import annotations\n\nfrom typing import Dict, List\n\n\ndef _looks_like_question(line: str) -> bool:\n    t = (line or \"\").strip()\n    if not t:\n        return False\n    # Language-agnostic: common question mark characters (ASCII '?', CJK 'ï¼Ÿ', A", "line_start": 1, "line_end": 36}, {"sha": "14f110c70c91ae88ebbb1db474cad19cfb4bbb584a6b07dc5620d680b013ab95", "index": 1, "path": "4fd0ca04__jinx__micro__conversation__cont__anchors.py\\14f110c70c91ae88ebbb1db474cad19cfb4bbb584a6b07dc5620d680b013ab95.json", "terms": ["quote", "and", "break", "else", "esc", "triple", "qlen", "start", "python_", "str", "elif", "false", "not", "out", "text", "_extract_question_from_python_blocks", "append", "bodies", "capture", "continue", "def", "for", "input", "lightweight", "print"], "text_preview": "break\n            quote = s[j]\n            if quote not in ('\"', \"'\"):\n                i += 1\n                continue\n            # triple or single\n            triple = (j + 2 < n and s[j] == s[j+1] == s[j+2])\n            qlen = 3 if triple else 1\n      ", "line_start": 37, "line_end": 75}, {"sha": "35b6e48469847347b9e192969ef46cd5b4fe6004305342de7824587abdda3ddd", "index": 2, "path": "4fd0ca04__jinx__micro__conversation__cont__anchors.py\\35b6e48469847347b9e192969ef46cd5b4fe6004305342de7824587abdda3ddd.json", "terms": ["body", "return", "text", "find", "python_question_", "str", "strip", "cand", "for", "out", "pos", "_looks_like_question", "python_", "break", "code", "lines", "reversed", "synth", "_extract_question_from_python_blocks", "_extract_strings_from_code", "_last_question_from_agent", "after", "blocks", "def", "extend"], "text_preview": "out: List[str] = []\n    pos = 0\n    while True:\n        i = s.find(\"<python_\", pos)\n        if i == -1:\n            break\n        j = s.find(\"</python_\", i)\n        if j == -1:\n            break\n        body = s[i:j]\n        # grab inside after first '>'\n ", "line_start": 76, "line_end": 118}, {"sha": "51726e2b0f663b3b79a65c8c2f5e00e543973ff76656e28ebbf09013b7202b5f", "index": 3, "path": "4fd0ca04__jinx__micro__conversation__cont__anchors.py\\51726e2b0f663b3b79a65c8c2f5e00e543973ff76656e28ebbf09013b7202b5f.json", "terms": ["str", "text", "synth", "def", "name", "pos", "return", "and", "anchors", "append", "for", "len", "token", "while", "_last_question_from_agent", "_last_user_query", "not", "startswith", "strip", "dict", "lines", "list", "questions", "symbols", "true"], "text_preview": "def last_agent_question(synth: str) -> str:\n    return _last_question_from_agent(synth)\n\n\ndef _last_user_query(synth: str) -> str:\n    text = synth or \"\"\n    lines = [ln.strip() for ln in text.splitlines() if ln.strip()]\n    for ln in reversed(lines):\n    ", "line_start": 119, "line_end": 159}, {"sha": "842970b48170b2b186878b03c62848cef407700c90a2782c37c40b5ee04019e5", "index": 4, "path": "4fd0ca04__jinx__micro__conversation__cont__anchors.py\\842970b48170b2b186878b03c62848cef407700c90a2782c37c40b5ee04019e5.json", "terms": ["text", "pos", "and", "append", "while", "name", "break", "find", "len", "path", "anchors", "buf", "isalpha", "isspace", "join", "not", "token", "true", "agent", "app", "for", "isalnum", "jinx", "map", "paths"], "text_preview": "i = text.find(\"(\", pos)\n        if i == -1:\n            break\n        j = i - 1\n        name = []\n        while j >= 0 and (text[j].isalnum() or text[j] == \"_\"):\n            name.append(text[j])\n            j -= 1\n        if name:\n            nm = \"\".join(", "line_start": 160, "line_end": 199}, {"sha": "8aa3fd56c490baeb3a1fd500ce3a006b4fc7d841b61dbd509ad2e080b46160ff", "index": 5, "path": "4fd0ca04__jinx__micro__conversation__cont__anchors.py\\8aa3fd56c490baeb3a1fd500ce3a006b4fc7d841b61dbd509ad2e080b46160ff.json", "terms": ["anchors", "seen", "uniq", "append", "for", "add", "buf", "join", "list", "not", "paths", "pos", "return", "set", "str"], "text_preview": "anchors[\"paths\"].append(\"\".join(buf))\n            pos = k\n\n    for k in anchors:\n        seen = set()\n        uniq: List[str] = []\n        for v in anchors[k]:\n            if v not in seen:\n                uniq.append(v)\n                seen.add(v)\n       ", "line_start": 200, "line_end": 211}], "file_terms": ["text", "str", "and", "return", "pos", "for", "while", "append", "not", "anchors", "break", "synth", "def", "find", "len", "name", "true", "strip", "list", "quote", "body", "code", "out", "python_", "token"]}