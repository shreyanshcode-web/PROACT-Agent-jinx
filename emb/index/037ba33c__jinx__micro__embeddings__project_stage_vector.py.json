{"file_rel": "jinx\\micro\\embeddings\\project_stage_vector.py", "file_sha256": "3efb05bdce65ba9ded2edad0311efb063f56469cb7a1a59afdd5dd4be9cef3d4", "updated_ts": 1760763311.6362195, "total_chunks": 3, "chunks": [{"sha": "b3ed06a6ac96a7b136ff11663de81cb0e80c02ff47f42f7012cb92f3ba418dca", "index": 0, "path": "037ba33c__jinx__micro__embeddings__project_stage_vector.py\\b3ed06a6ac96a7b136ff11663de81cb0e80c02ff47f42f7012cb92f3ba418dca.json", "terms": ["str", "import", "from", "list", "any", "dict", "tuple", "int", "def", "query", "ttl_ms", "score", "async", "chunks", "similarity", "__future__", "_load_all", "_work", "embed_project_hot_ttl_ms", "embed_query", "file_rel", "get_project_chunks_hot", "hot_store", "iter_project_chunks", "max_time_ms"], "text_preview": "from __future__ import annotations\n\nimport time\nimport os\nimport asyncio\nfrom typing import Any, Dict, List, Tuple\n\nfrom .project_query_embed import embed_query\nfrom .project_scan_store import iter_project_chunks\nfrom .project_retrieval_config import (\n   ", "line_start": 1, "line_end": 36}, {"sha": "86d9da6cb653b8a956179caa9a1ed870f4efcf016c82619dc75e6da3fc0d59c4", "index": 1, "path": "037ba33c__jinx__micro__embeddings__project_stage_vector.py\\86d9da6cb653b8a956179caa9a1ed870f4efcf016c82619dc75e6da3fc0d59c4.json", "terms": ["batch_vecs", "str", "batch_meta", "list", "file_rel", "obj_i", "asyncio", "await", "for", "get", "obj", "return", "scored", "create_task", "file_rel_i", "items_task", "meta_i", "qv_task", "any", "append", "dict", "float", "items", "out", "pair"], "text_preview": "for pair in iter_project_chunks(max_files=PROJ_MAX_FILES, max_chunks_per_file=PROJ_MAX_CHUNKS_PER_FILE):\n                out.append(pair)\n            return out\n        return await asyncio.to_thread(_work)\n\n    qv_task = asyncio.create_task(embed_query(q)", "line_start": 37, "line_end": 67}, {"sha": "037ab42bbd30571bfeedc17e94a0874efd0ff5a09b863f7b864c57df5ae36419", "index": 2, "path": "037ba33c__jinx__micro__embeddings__project_stage_vector.py\\037ab42bbd30571bfeedc17e94a0874efd0ff5a09b863f7b864c57df5ae36419.json", "terms": ["meta", "await", "max_time_ms", "_flush_batch", "batch_vecs", "append", "get", "len", "obj", "scored", "batch_meta", "file_rel", "perf_counter", "proj_min_preview_len", "text_preview", "and", "asyncio", "batch", "break", "continue", "flush", "keep", "key", "lambda", "loop"], "text_preview": "meta = obj.get(\"meta\", {})\n        pv = (meta.get(\"text_preview\") or '').strip()\n        if len(pv) < PROJ_MIN_PREVIEW_LEN:\n            continue\n        batch_vecs.append(vec)\n        batch_meta.append((file_rel, obj))\n        if len(batch_vecs) >= BATCH:\n", "line_start": 68, "line_end": 83}], "file_terms": ["str", "list", "import", "batch_vecs", "any", "dict", "from", "tuple", "await", "obj", "batch_meta", "file_rel", "asyncio", "get", "return", "scored", "meta", "append", "def", "max_time_ms", "_flush_batch", "obj_i", "ttl_ms", "int", "async"]}