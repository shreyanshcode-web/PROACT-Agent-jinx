{"file_rel": "jinx\\micro\\embeddings\\crawler.py", "file_sha256": "f0fc322d970c1d8600c271a7e0ae05195471221c6fb4ec21ccded121ae8a4ddd", "updated_ts": 1760763310.9134712, "total_chunks": 5, "chunks": [{"sha": "955a074b8a83127ca9543c1a1fea19c3ee7811911d8025595f1b956749dc5a85", "index": 0, "path": "a6816867__jinx__micro__embeddings__crawler.py\\955a074b8a83127ca9543c1a1fea19c3ee7811911d8025595f1b956749dc5a85.json", "terms": ["import", "str", "asyncio", "from", "sandbox", "tasks", "per", "await", "getenv", "int", "log", "and", "awaitable", "callable", "callback", "file", "for", "gather", "jinx", "lines", "logs", "max", "none", "__future__", "_ensure_paths"], "text_preview": "from __future__ import annotations\n\nimport asyncio\nimport os\nfrom typing import Callable, Awaitable, Dict, Set\n\nfrom jinx.log_paths import SANDBOX_DIR\nimport time\nfrom jinx.async_utils.rt import rt_section\n\n# Max lines per second per sandbox file to proces", "line_start": 1, "line_end": 38}, {"sha": "bbedba06f7232002f4bdbc35727460a11b64d495fc66b365a50f9decb1e671f0", "index": 1, "path": "a6816867__jinx__micro__embeddings__crawler.py\\bbedba06f7232002f4bdbc35727460a11b64d495fc66b365a50f9decb1e671f0.json", "terms": ["lines", "path", "max_bytes", "max_lines", "str", "start", "the", "def", "open", "return", "try", "int", "line", "reads", "strip", "async", "data", "encoding", "errors", "except", "file", "from", "ignore", "none", "oserror"], "text_preview": "async def _ensure_paths() -> None:\n    # Ensure parent dirs so tailers can open files reliably\n    os.makedirs(SANDBOX_DIR, exist_ok=True)\n    # No trigger_echoes ingestion\n\n\ndef _read_tail_lines(path: str, max_bytes: int, max_lines: int) -> list[str]:\n   ", "line_start": 39, "line_end": 73}, {"sha": "676b461073e7f66a7394231135c86387075f7ad281d56efcd178be284479fc93", "index": 2, "path": "a6816867__jinx__micro__embeddings__crawler.py\\676b461073e7f66a7394231135c86387075f7ad281d56efcd178be284479fc93.json", "terms": ["line", "await", "_preroll_lines", "budget_ms", "time", "asyncio", "continue", "except", "filenotfounderror", "for", "path", "sleep", "true", "while", "with", "_preroll_max_bytes", "_read_tail_lines", "jinx_hard_rt_budget_ms", "rt_section", "seek_end", "win_start", "and", "apply", "async", "before"], "text_preview": "except FileNotFoundError:\n        # If deleted later, re-create\n        while True:\n            await asyncio.sleep(0.5)\n            try:\n                f = open(path, \"r\", encoding=\"utf-8\", errors=\"ignore\")\n                break\n            except FileNo", "line_start": 74, "line_end": 104}, {"sha": "7462cd9e3b4b60d8d7c5e43c070c8cf6fae16993a841e8e8f5524a3d95282745", "index": 3, "path": "a6816867__jinx__micro__embeddings__crawler.py\\7462cd9e3b4b60d8d7c5e43c070c8cf6fae16993a841e8e8f5524a3d95282745.json", "terms": ["str", "async", "await", "now", "processed", "source", "tailed", "_sandbox_max_lps", "budget_ms", "win_start", "line", "set", "time", "asyncio", "def", "dict", "int", "none", "sandbox", "tasks", "tick", "try", "_tail_file", "_watch_sandbox", "create_task"], "text_preview": "if source.startswith(\"sandbox/\") and _SANDBOX_MAX_LPS > 0:\n                        now = time.time()\n                        if now - win_start >= 1.0:\n                            win_start = now\n                            processed = 0\n                  ", "line_start": 105, "line_end": 135}, {"sha": "9df3b81406703496aa7cc3c548a0ed324f9c1490f789c6ef0f3f96b3a578886e", "index": 4, "path": "a6816867__jinx__micro__embeddings__crawler.py\\9df3b81406703496aa7cc3c548a0ed324f9c1490f789c6ef0f3f96b3a578886e.json", "terms": ["await", "for", "tasks", "known", "mtime", "tick", "sandbox_dir", "asyncio", "dead", "entries", "except", "filenotfounderror", "values", "return_exceptions", "spawn_tail", "st_mtime", "cancel", "continue", "discard", "done", "endswith", "finally", "finished", "gather", "int"], "text_preview": "os.path.join(SANDBOX_DIR, x)\n                        for x in os.listdir(SANDBOX_DIR)\n                        if x.lower().endswith(\".log\")\n                    ]\n                except FileNotFoundError:\n                    entries = []\n\n                fo", "line_start": 136, "line_end": 165}], "file_terms": ["await", "str", "line", "lines", "path", "asyncio", "for", "tasks", "int", "try", "async", "import", "none", "sandbox", "def", "except", "from", "source", "tick", "true", "time", "callback", "file", "getenv", "processed"]}