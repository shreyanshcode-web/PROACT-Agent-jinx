{"file_rel": "jinx\\autotune.py", "file_sha256": "063515d7a80b3d6c7872673e02711688fcb1a8151a1097d823d64bedfa8ca290", "updated_ts": 1760763309.7196388, "total_chunks": 3, "chunks": [{"sha": "951b06aabf94a515aaa459aca5d4344e29d3c5201abe0e71b42729a2f5669c06", "index": 0, "path": "9f1559a5__jinx__autotune.py\\951b06aabf94a515aaa459aca5d4344e29d3c5201abe0e71b42729a2f5669c06.json", "terms": ["import", "settings", "prev_rt", "autotune_state", "def", "from", "hard_rt_budget_ms", "prev_prio", "asyncio", "json", "none", "_load_state", "use_priority_queue", "data", "dict", "encoding", "except", "exception", "get", "int", "isinstance", "jinx", "load", "open", "return"], "text_preview": "from __future__ import annotations\n\nimport asyncio\nimport json\nimport time\nfrom typing import Optional\n\nfrom jinx.settings import Settings\nfrom jinx.log_paths import AUTOTUNE_STATE\n\n\ndef _load_state() -> dict:\n    try:\n        with open(AUTOTUNE_STATE, \"r\"", "line_start": 1, "line_end": 42}, {"sha": "263ff15fcac2e2ca7b837752a29d4759633c5abfef21f8373e6cfedfe8a0ad3f", "index": 1, "path": "9f1559a5__jinx__autotune.py\\263ff15fcac2e2ca7b837752a29d4759633c5abfef21f8373e6cfedfe8a0ad3f.json", "terms": ["maxsize", "avg_ratio", "q_in", "float", "last_switch", "alpha", "max", "now", "ratio", "saturation", "hard_rt_budget_ms", "cooldown_s", "use_priority_queue", "time", "and", "else", "ema", "min", "none", "not", "true", "_maxsize", "auto_tune", "baseline_budget", "saturate_enable_ratio"], "text_preview": "avg_ratio: float = 0.0  # EMA of saturation\n        alpha = 0.3\n        last_switch: float = 0.0\n        cooldown_s: float = max(0.5, rt.saturate_window_ms / 1000.0)\n\n        while True:\n            try:\n                # Compute instantaneous saturation r", "line_start": 43, "line_end": 66}, {"sha": "cacef8ffe9852bc835a0d133ff4ae38462e36846796512c57c89bbff92b7591d", "index": 2, "path": "9f1559a5__jinx__autotune.py\\cacef8ffe9852bc835a0d133ff4ae38462e36846796512c57c89bbff92b7591d.json", "terms": ["use_priority_queue", "asyncio", "sleep", "hard_rt_budget_ms", "changed", "and", "autotune", "await", "except", "true", "_run", "_save_state", "avg_ratio", "baseline_budget", "create_task", "last_switch", "saturate_disable_ratio", "saturate_window_ms", "avoid", "bool", "busy", "cancellederror", "continue", "crash", "disable"], "text_preview": "changed = True\n                    # Disable priority when saturation is low\n                    elif rt.use_priority_queue and avg_ratio <= rt.saturate_disable_ratio:\n                        rt.use_priority_queue = False\n                        rt.hard_rt", "line_start": 67, "line_end": 89}], "file_terms": ["hard_rt_budget_ms", "use_priority_queue", "import", "maxsize", "asyncio", "avg_ratio", "q_in", "settings", "and", "none", "true", "prev_rt", "autotune_state", "last_switch", "changed", "def", "except", "float", "from", "max", "now", "saturation", "sleep", "baseline_budget", "prev_prio"]}