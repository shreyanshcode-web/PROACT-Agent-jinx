{"file_rel": "jinx\\runtime_service.py", "file_sha256": "7aecd998519c770c12516c864d6618e71a7d2aa106180f3ee74edbd6fac58cd9", "updated_ts": 1760763309.818011, "total_chunks": 4, "chunks": [{"sha": "957936c5a226cbff3c995c6bafb6c11e5238a034c66ba79df6cf31c45ecf9969", "index": 0, "path": "9bd539de__jinx__runtime_service.py\\957936c5a226cbff3c995c6bafb6c11e5238a034c66ba79df6cf31c45ecf9969.json", "terms": ["from", "jinx", "import", "the", "settings", "loop", "none", "and", "pulse_core", "async", "conversation", "for", "runtime", "__future__", "_cf", "_frame_shift", "banner_service", "chaos_patch", "error_worker", "frame_shift", "jx_state", "run_supervisor", "show_banner", "start_autotune_task", "start_embeddings_task"], "text_preview": "\"\"\"Async runtime loop for the Jinx agent.\n\n``pulse_core()`` wires input, spinner, and conversation services together and\ndrives the primary event loop. It is intentionally lightweight, cancellation\nfriendly, and side-effect contained for testability.\n\"\"\"\n\n", "line_start": 1, "line_end": 30}, {"sha": "7d18702b9dc82801d39181c6561b3fb8bb804f4704c4f73c320f929165dc93a7", "index": 1, "path": "9bd539de__jinx__runtime_service.py\\7d18702b9dc82801d39181c6561b3fb8bb804f4704c4f73c320f929165dc93a7.json", "terms": ["cfg", "queue", "runtime", "asyncio", "queue_maxsize", "settings", "the", "with", "q_proc", "and", "auto", "maxsize", "priority", "str", "through", "apply_to_state", "chaos_patch", "from_env", "hard_rt_budget_ms", "q_for_frame", "q_in", "show_banner", "threads_max_workers", "use_priority_queue", "always"], "text_preview": "- Starts an input task that feeds a queue with user messages.\n    - Optionally dispatches through a priority-aware relay to the frame processor.\n    - Displays a spinner per message while executing the conversation step.\n    - Supervises background tasks w", "line_start": 31, "line_end": 58}, {"sha": "3b7bdc218f1cd291e3d079893a05fd295bb025ef3706a5a7790790af6e883466", "index": 2, "path": "9bd539de__jinx__runtime_service.py\\3b7bdc218f1cd291e3d079893a05fd295bb025ef3706a5a7790790af6e883466.json", "terms": ["supervisedjob", "lambda", "name", "start", "cfg", "q_in", "asyncio", "loop", "try", "_cf", "_frame_shift", "create_task", "get_running_loop", "job_specs", "max_workers", "q_for_frame", "q_proc", "set_default_executor", "start_autotune_task", "start_embeddings_task", "start_input_task", "start_memory_optimizer_task", "start_priority_dispatcher_task", "start_project_embeddings_task", "start_watchdog_task"], "text_preview": "# Configure default thread pool for to_thread operations\n        try:\n            loop = asyncio.get_running_loop()\n            loop.set_default_executor(_cf.ThreadPoolExecutor(max_workers=cfg.runtime.threads_max_workers, thread_name_prefix=\"jinx-worker\"))", "line_start": 59, "line_end": 77}, {"sha": "3879616e3d980d58d238a0379788f46d9984b997f685ab7ab58ca562eaebfed7", "index": 3, "path": "9bd539de__jinx__runtime_service.py\\3879616e3d980d58d238a0379788f46d9984b997f685ab7ab58ca562eaebfed7.json", "terms": ["set", "shutdown_event", "await", "jx_state", "job_specs", "run_supervisor", "stop_error_worker", "stop_memory_optimizer", "all", "asyncio", "auxiliary", "background", "cancellederror", "cfg", "components", "contextlib", "except", "exception", "finally", "first", "global", "keyboardinterrupt", "returns", "run", "shutdown"], "text_preview": "# Run supervised set; returns when shutdown_event is set\n            await run_supervisor(job_specs, jx_state.shutdown_event, cfg)\n        except (asyncio.CancelledError, KeyboardInterrupt):\n            # Signal global shutdown to all components\n          ", "line_start": 78, "line_end": 87}], "file_terms": ["import", "jinx", "cfg", "from", "supervisedjob", "runtime", "asyncio", "lambda", "name", "start", "the", "settings", "queue", "loop", "and", "q_in", "priority", "with", "jx_state", "q_proc", "queue_maxsize", "shutdown_event", "none", "set", "async"]}