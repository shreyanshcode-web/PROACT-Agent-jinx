{"file_rel": "jinx\\micro\\runtime\\patch_strategies.py", "file_sha256": "c44ce10b1d249dfa5d669cbf0460c366cc78f51b122c464552b09f8cef4bfdc2", "updated_ts": 1760763312.9022474, "total_chunks": 5, "chunks": [{"sha": "97c8c822c18b8029447499723130ea4b02973e56a478a6b7ad7b9e36c084f91b", "index": 0, "path": "417b007d__jinx__micro__runtime__patch_strategies.py\\97c8c822c18b8029447499723130ea4b02973e56a478a6b7ad7b9e36c084f91b.json", "terms": ["import", "from", "str", "jinx", "path", "micro", "text", "_is_code_like", "_unified_diff", "unified_diff", "def", "new", "old", "patch", "return", "__future__", "_autopatch", "_autopatchargs", "_diff_stats", "_is_codey", "_patch_anchor", "_patch_context", "_patch_line_range", "_patch_semantic", "_patch_symbol"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport asyncio\nimport difflib\nimport os\nfrom dataclasses import dataclass\nfrom typing import Optional, Tuple\n\nfrom jinx.async_utils.fs import read_text_raw, write_text\nfrom jinx.micro.embeddings.project_search", "line_start": 1, "line_end": 37}, {"sha": "0abe066d8507a87a0bfdac41d7bac254fed2a075be3c663006c3b7725394da59", "index": 1, "path": "417b007d__jinx__micro__runtime__patch_strategies.py\\0abe066d8507a87a0bfdac41d7bac254fed2a075be3c663006c3b7725394da59.json", "terms": ["str", "bool", "preview", "int", "return", "def", "path", "tuple", "diff", "false", "patch", "max_span", "async", "delegate", "replacement", "patch_line_range", "patch_write", "should_autocommit", "await", "strategy", "text", "_diff_stats", "_patch_line_range", "_patch_write", "_should_autocommit"], "text_preview": "def diff_stats(diff: str) -> Tuple[int, int]:\n    \"\"\"Return (added_lines, removed_lines) ignoring headers (delegates to patch.utils).\"\"\"\n    return _diff_stats(diff)\n\n\ndef should_autocommit(strategy: str, diff: str) -> Tuple[bool, str]:\n    \"\"\"Delegate to ", "line_start": 38, "line_end": 65}, {"sha": "8ecd574823008c48d8956a618bf640bc7b87afe3e680d9bc0fe1cf0359982448", "index": 2, "path": "417b007d__jinx__micro__runtime__patch_strategies.py\\8ecd574823008c48d8956a618bf640bc7b87afe3e680d9bc0fe1cf0359982448.json", "terms": ["str", "preview", "none", "optional", "bool", "path", "replacement", "false", "anchor", "async", "await", "def", "delegate", "int", "patch", "return", "symbol", "tuple", "patch_anchor_insert_after", "patch_symbol_python", "tolerance", "autopatchargs", "_patch_anchor", "_patch_context", "_patch_symbol"], "text_preview": "\"\"\"Delegate to patch.patch_context_replace.\"\"\"\n    return await _patch_context(path, before_block, replacement, preview=preview, tolerance=tolerance)\n\n\nasync def patch_anchor_insert_after(path: str, anchor: str, replacement: str, *, preview: bool = False) ", "line_start": 66, "line_end": 96}, {"sha": "89f5abd583104218dfa37bdd957910e1e72a14083921b30be9511b8f2c908214", "index": 3, "path": "417b007d__jinx__micro__runtime__patch_strategies.py\\89f5abd583104218dfa37bdd957910e1e72a14083921b30be9511b8f2c908214.json", "terms": ["str", "preview", "args", "path", "bool", "query", "symbol", "none", "optional", "margin", "tol", "topk", "await", "return", "context_before", "context_tolerance", "line_end", "line_start", "max_span", "new_args", "anchor", "code", "force", "int", "async"], "text_preview": "\"\"\"Delegate to patch.autopatch, converting to the new AutoPatchArgs type.\"\"\"\n    new_args = _AutoPatchArgs(\n        path=args.path,\n        code=args.code,\n        line_start=args.line_start,\n        line_end=args.line_end,\n        symbol=args.symbol,\n    ", "line_start": 97, "line_end": 127}, {"sha": "a9f877956c8e2ee5e3c181c262494f9cfc5db34e1dc03bbf6c771c641c548396", "index": 4, "path": "417b007d__jinx__micro__runtime__patch_strategies.py\\a9f877956c8e2ee5e3c181c262494f9cfc5db34e1dc03bbf6c771c641c548396.json", "terms": ["patch_anchor_insert_after", "patch_context_replace", "patch_line_range", "patch_semantic_in_file", "patch_symbol_body_python", "patch_symbol_python", "patch_write", "autopatch", "autopatchargs"], "text_preview": "\"patch_write\",\n    \"patch_line_range\",\n    \"patch_anchor_insert_after\",\n    \"patch_symbol_python\",\n    \"patch_symbol_body_python\",\n    \"patch_context_replace\",\n    \"patch_semantic_in_file\",\n    \"AutoPatchArgs\",\n    \"autopatch\",\n]", "line_start": 128, "line_end": 137}], "file_terms": ["str", "preview", "bool", "path", "optional", "return", "none", "args", "def", "import", "tuple", "int", "false", "patch", "replacement", "async", "await", "symbol", "delegate", "from", "max_span", "anchor", "query", "autopatchargs", "diff"]}