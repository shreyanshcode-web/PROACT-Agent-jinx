{"file_rel": "jinx\\micro\\runtime\\patch\\symbol_patch.py", "file_sha256": "46f2f68149be7ea6598da0ae3399451a8d468e2d9b53990ef15a9c2637293904", "updated_ts": 1760763313.362544, "total_chunks": 3, "chunks": [{"sha": "868094e7cdd4488a7ecac82ab44c4562f65db54e105d240264e5a0f951d41fdc", "index": 0, "path": "0bc9034c__jinx__micro__runtime__patch__symbol_patch.py\\868094e7cdd4488a7ecac82ab44c4562f65db54e105d240264e5a0f951d41fdc.json", "terms": ["ast", "path", "import", "replacement", "str", "from", "unified_diff", "await", "cur", "node", "return", "symbol", "read_text_raw", "write_text", "bool", "asyncio", "class", "def", "false", "name", "parse", "preview", "tree", "true", "tuple"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport asyncio\nfrom typing import Tuple\n\nfrom jinx.async_utils.fs import read_text_raw, write_text\nfrom .utils import (\n    unified_diff,\n    syntax_check_enabled,\n    detect_eol,\n    has_trailing_newline,\n   ", "line_start": 1, "line_end": 36}, {"sha": "01b907464fbf58a7ad3bc3ec514a3d008493c3b3942783d436bbdc301b03a911", "index": 1, "path": "0bc9034c__jinx__micro__runtime__patch__symbol_patch.py\\01b907464fbf58a7ad3bc3ec514a3d008493c3b3942783d436bbdc301b03a911.json", "terms": ["out", "cur", "path", "symbol", "not", "return", "replacement", "target", "false", "unified_diff", "await", "endswith", "getattr", "lines", "none", "splitlines", "true", "detect_eol", "end_lineno", "has_trailing_newline", "syntax_check_enabled", "to_thread", "trailing_nl", "write_text", "and"], "text_preview": "target = node\n                break\n    if not target:\n        # append at end if replacement defines the symbol\n        if replacement.lstrip().startswith((f\"def {symbol}\", f\"class {symbol}\")):\n            out = cur\n            if not out.endswith(\"\\n\"):\n", "line_start": 37, "line_end": 65}, {"sha": "40aa4d8cd12dc550145c9ac187fc7bcb88a578a786303e84f7cba7911a2f4b39", "index": 2, "path": "0bc9034c__jinx__micro__runtime__patch__symbol_patch.py\\40aa4d8cd12dc550145c9ac187fc7bcb88a578a786303e84f7cba7911a2f4b39.json", "terms": ["path", "out", "return", "unified_diff", "await", "cur", "true", "join_lines", "syntax_check_enabled", "to_thread", "trailing_nl", "write_text", "ast", "asyncio", "eol", "error", "except", "exception", "false", "lines", "parse", "preview", "syntax", "try"], "text_preview": "out = join_lines(lines, eol, trailing_nl)\n    if preview:\n        return True, unified_diff(cur, out, path=path)\n    if syntax_check_enabled():\n        try:\n            await asyncio.to_thread(ast.parse, out or \"\")\n        except Exception as e:\n          ", "line_start": 66, "line_end": 75}], "file_terms": ["path", "out", "cur", "return", "replacement", "ast", "symbol", "unified_diff", "await", "false", "import", "not", "true", "target", "write_text", "str", "asyncio", "from", "node", "parse", "preview", "syntax_check_enabled", "to_thread", "class", "def"]}