{"file_rel": "jinx\\micro\\conversation\\memory_ops.py", "file_sha256": "14dc301099c0b146ff16849ac307ef5a4079343fd1f21486c2527382dca4cf77", "updated_ts": 1760763310.3813527, "total_chunks": 5, "chunks": [{"sha": "cab01727b572b82de03e88ec30656f7498bfe3b65f66a5a112fe5c7d3ceb66ca", "index": 0, "path": "340ab194__jinx__micro__conversation__memory_ops.py\\cab01727b572b82de03e88ec30656f7498bfe3b65f66a5a112fe5c7d3ceb66ca.json", "terms": ["import", "from", "memory_dir", "join", "path", "jinx", "str", "not", "lines", "memory", "micro", "return", "shard_lock", "async", "body", "def", "list", "name", "strip", "__future__", "_append_lines", "_ch_decs", "_ch_paths", "_ch_prefs", "_ch_symbols"], "text_preview": "from __future__ import annotations\n\nimport os\nfrom typing import Any, Dict, List, Optional\n\nfrom jinx.state import shard_lock\nfrom jinx.async_utils.fs import write_text, read_text_raw\nfrom jinx.micro.memory.storage import memory_dir, ensure_nl\nfrom jinx.mi", "line_start": 1, "line_end": 37}, {"sha": "f979475248536816e78602818d729178b6f22b2966d575aedeba8dfb55be3a62", "index": 1, "path": "340ab194__jinx__micro__conversation__memory_ops.py\\f979475248536816e78602818d729178b6f22b2966d575aedeba8dfb55be3a62.json", "terms": ["str", "params", "action", "ops", "path", "except", "exception", "get", "list", "dict", "prev", "try", "ensure_nl", "out_blocks", "any", "await", "int", "lines", "memroute", "pins", "query", "append_channel", "exec_ops", "memory_selected", "read_text_raw"], "text_preview": "prev = await read_text_raw(path) if os.path.exists(path) else \"\"\n        except Exception:\n            prev = \"\"\n        try:\n            await write_text(path, ensure_nl((prev or \"\") + ensure_nl(body)))\n        except Exception:\n            pass\n\n\nasync d", "line_start": 38, "line_end": 70}, {"sha": "a024fdad87d3eeafa0a3f85ba4debbd1175d2673133b70b12caab235240550fd", "index": 2, "path": "340ab194__jinx__micro__conversation__memory_ops.py\\a024fdad87d3eeafa0a3f85ba4debbd1175d2673133b70b12caab235240550fd.json", "terms": ["pins", "body", "cap", "memory_selected", "getenv", "line", "opx", "out_blocks", "elif", "except", "exception", "get", "int", "join", "lines", "list", "max", "params", "strip", "try", "_memroute", "_pins_load", "jinx_macro_mem_preview_chars", "jinx_memsel_max_chars", "jinx_memsel_preview_chars"], "text_preview": "k = 8\n            k = max(1, min(16, k))\n            try:\n                pv = int(os.getenv(\"JINX_MEMSEL_PREVIEW_CHARS\", os.getenv(\"JINX_MACRO_MEM_PREVIEW_CHARS\", \"160\")))\n                pv = max(24, pv)\n            except Exception:\n                pv =", "line_start": 71, "line_end": 97}, {"sha": "152d5acdd58865c517307151cdf0b5de756c92ff15e73eb7afaf721c7bcb140b", "index": 3, "path": "340ab194__jinx__micro__conversation__memory_ops.py\\152d5acdd58865c517307151cdf0b5de756c92ff15e73eb7afaf721c7bcb140b.json", "terms": ["pins", "str", "lines", "path", "get", "params", "mode", "name", "line", "strip", "_topics_dir", "kind", "action", "await", "body", "elif", "else", "except", "exception", "for", "join", "lower", "pass", "try", "_append_lines"], "text_preview": "pins = _pins_load()\n                if opx == \"add\":\n                    if line not in pins:\n                        pins.insert(0, line)\n                else:\n                    pins = [p for p in pins if p != line]\n                _pins_save(pins)\n    ", "line_start": 98, "line_end": 124}, {"sha": "201fdd966a3fc331d86cecc86d32680548b1c04f45333ca99a8b2e3a0c75cbb5", "index": 4, "path": "340ab194__jinx__micro__conversation__memory_ops.py\\201fdd966a3fc331d86cecc86d32680548b1c04f45333ca99a8b2e3a0c75cbb5.json", "terms": ["lines", "str", "continue", "decisions", "kind", "paths", "prefs", "symbols", "__all__", "_append_lines", "_ch_decs", "_ch_paths", "_ch_prefs", "_ch_symbols", "exec_ops", "out_blocks", "await", "else", "for", "get", "not", "params", "return", "strip"], "text_preview": "if kind not in (\"paths\",\"symbols\",\"prefs\",\"decisions\"):\n                continue\n            lines = [str(x) for x in (params.get(\"lines\") or []) if str(x).strip()]\n            p = {\"paths\": _CH_PATHS, \"symbols\": _CH_SYMBOLS, \"prefs\": _CH_PREFS, \"decisions", "line_start": 125, "line_end": 135}], "file_terms": ["str", "pins", "params", "path", "lines", "body", "get", "action", "join", "import", "strip", "except", "exception", "list", "not", "try", "line", "from", "memory_dir", "name", "await", "for", "out_blocks", "kind", "jinx"]}