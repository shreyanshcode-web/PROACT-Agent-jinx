{"file_rel": "jinx\\micro\\embeddings\\project_py_scope.py", "file_sha256": "1c55c33e6fa4bc870bc9766b1a679503d91bba69838834d9bf23fa15006bd3b3", "updated_ts": 1760763311.1400669, "total_chunks": 3, "chunks": [{"sha": "a18fe1535a6eb886cdd3ccaf07616334e7cf4463513b4dfb064c53a882654712", "index": 0, "path": "5c5d9a05__jinx__micro__embeddings__project_py_scope.py\\a18fe1535a6eb886cdd3ccaf07616334e7cf4463513b4dfb064c53a882654712.json", "terms": ["node", "ast", "none", "def", "self", "_check", "generic_visit", "int", "defined", "ignore", "import", "line", "name", "return", "type", "best_span", "class", "from", "getattr", "source", "tuple", "__future__", "_visitor", "end_line", "end_lineno"], "text_preview": "from __future__ import annotations\n\nimport ast\nfrom typing import Tuple, Optional\n\n\ndef find_python_scope(source: str, line: int) -> Tuple[int, int]:\n    \"\"\"Return (start_line, end_line) of the smallest Python def/class containing 'line'.\n\n    If not found", "line_start": 1, "line_end": 38}, {"sha": "272ee7048a0cdb5c419e03ef769aadfcc3d64feababc446153008f0cd86f9a20", "index": 1, "path": "5c5d9a05__jinx__micro__embeddings__project_py_scope.py\\272ee7048a0cdb5c419e03ef769aadfcc3d64feababc446153008f0cd86f9a20.json", "terms": ["none", "str", "best_span", "def", "return", "optional", "line", "best_size", "cur_size", "ast", "int", "the", "best", "kind", "node", "b_e", "b_s", "cur_span", "class", "getattr", "name", "smallest", "source", "tree", "tuple"], "text_preview": "# choose the smallest span that still contains the line\n            cur_span = (ln, en)\n            cur_size = en - ln\n            best_size = best_span[1] - best_span[0]\n            if best_span == (0, 10**9) or cur_size < best_size:\n                best_", "line_start": 39, "line_end": 73}, {"sha": "46c7ce6617c35fcc453782343898ebcd5c670bbded7c63554f527e50f3cd672a", "index": 2, "path": "5c5d9a05__jinx__micro__embeddings__project_py_scope.py\\46c7ce6617c35fcc453782343898ebcd5c670bbded7c63554f527e50f3cd672a.json", "terms": ["node", "name", "self", "def", "best", "ast", "none", "_try", "generic_visit", "defined", "getattr", "ignore", "type", "class", "best_size", "cur_size", "visit_asyncfunctiondef", "visit_classdef", "visit_functiondef", "async", "asyncfunctiondef", "classdef", "functiondef", "kind", "nodevisitor"], "text_preview": "if best[0] is None or cur_size < best_size:\n                best = (name, kind, ln, en)\n\n    class _V(ast.NodeVisitor):\n        def visit_FunctionDef(self, node: ast.FunctionDef) -> None:  # type: ignore[name-defined]\n            _try(node, 'def', getattr(", "line_start": 74, "line_end": 91}], "file_terms": ["node", "none", "ast", "def", "name", "self", "best_span", "return", "str", "best", "getattr", "line", "generic_visit", "int", "class", "defined", "ignore", "type", "optional", "_check", "_try", "best_size", "cur_size", "the", "kind"]}