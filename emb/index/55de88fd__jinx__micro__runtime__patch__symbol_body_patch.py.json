{"file_rel": "jinx\\micro\\runtime\\patch\\symbol_body_patch.py", "file_sha256": "0bac16643f0d864afab612ba4a58947af19c6292b7e7ede3cab6ad382742a422", "updated_ts": 1760763313.3274546, "total_chunks": 4, "chunks": [{"sha": "79f2852a7befe8900593142df15a94053a51617ccc9e6fd235b365698ad0255f", "index": 0, "path": "55de88fd__jinx__micro__runtime__patch__symbol_body_patch.py\\79f2852a7befe8900593142df15a94053a51617ccc9e6fd235b365698ad0255f.json", "terms": ["ast", "import", "str", "from", "body", "cur", "false", "read_text_raw", "bool", "and", "asyncio", "await", "node", "parse", "path", "preserved", "return", "the", "tree", "tuple", "__future__", "async_utils", "detect_eol", "has_trailing_newline", "jinx_patch_preserve_docstring"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport asyncio\nfrom typing import Tuple\n\nfrom jinx.async_utils.fs import read_text_raw, write_text\nfrom .utils import (\n    unified_diff,\n    syntax_check_enabled,\n    detect_eol,\n    has_trailing_newline,\n   ", "line_start": 1, "line_end": 38}, {"sha": "937dda2254b254dc8b7b67aeae997dec79eee8dc19d0d159211d546ccadad83d", "index": 1, "path": "55de88fd__jinx__micro__runtime__patch__symbol_body_patch.py\\937dda2254b254dc8b7b67aeae997dec79eee8dc19d0d159211d546ccadad83d.json", "terms": ["first_stmt", "getattr", "none", "value", "body", "ast", "isinstance", "target", "doc_start", "str", "and", "cur", "docstring", "doc_end", "is_doc", "keep_doc", "new_body_stripped", "false", "lines", "node", "not", "symbol", "detect_eol", "end_lineno", "has_trailing_newline"], "text_preview": "if getattr(node, \"name\", \"\") == symbol:\n                target = node\n                break\n    if not target:\n        return False, \"symbol not found\"\n    # calculate body region lines\n    eol = detect_eol(cur)\n    trailing_nl = has_trailing_newline(cur)\n", "line_start": 39, "line_end": 65}, {"sha": "ba0c980956f224d185dc6928f4fe40d59cb83ea6b5cdc9f4c19630a13c0beee9", "index": 2, "path": "55de88fd__jinx__micro__runtime__patch__symbol_body_patch.py\\ba0c980956f224d185dc6928f4fe40d59cb83ea6b5cdc9f4c19630a13c0beee9.json", "terms": ["start_line", "and", "int", "doc_start", "body", "target", "end_line", "new_lines", "override_doc", "docstring", "start", "else", "getattr", "lines", "doc_end", "after", "block", "indentation", "lineno", "none", "replacement", "signature", "base_indent", "end_lineno", "keep_doc"], "text_preview": "override_doc = True\n\n    # compute replacement boundaries (inside the block)\n    # start after signature line; if docstring to be preserved, start after docstring\n    start_line = None\n    if doc_start and doc_end and keep_doc and not override_doc:\n       ", "line_start": 66, "line_end": 92}, {"sha": "3f4a3193392b07607ee0e018b259d8ac7bb2bb718aa706cb9e227773562999aa", "index": 3, "path": "55de88fd__jinx__micro__runtime__patch__symbol_body_patch.py\\3f4a3193392b07607ee0e018b259d8ac7bb2bb718aa706cb9e227773562999aa.json", "terms": ["path", "new_lines", "out", "lines", "return", "base_indent", "out_lines", "unified_diff", "await", "cur", "post", "pre", "true", "end_line", "join_lines", "leading_ws", "normalize_indentation", "start_line", "syntax_check_enabled", "to_thread", "trailing_nl", "write_text", "and", "ast", "asyncio"], "text_preview": "base_indent = leading_ws(lines[getattr(target, \"lineno\", 1) - 1]) + \"    \"\n    new_lines = normalize_indentation(new_lines)\n    new_lines = [(base_indent + ln) if ln.strip() else ln for ln in new_lines]\n    # splice into original lines\n    pre = lines[: st", "line_start": 93, "line_end": 109}], "file_terms": ["start_line", "ast", "body", "and", "getattr", "target", "new_lines", "none", "first_stmt", "lines", "str", "path", "cur", "doc_start", "docstring", "false", "return", "import", "value", "isinstance", "else", "from", "int", "out", "end_line"]}