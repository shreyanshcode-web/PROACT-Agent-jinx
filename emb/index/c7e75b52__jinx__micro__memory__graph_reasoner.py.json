{"file_rel": "jinx\\micro\\memory\\graph_reasoner.py", "file_sha256": "d4bdbfbcb60346f2e9e96068813f2f402a1a2aa78426f82fc5fbee574d0415c9", "updated_ts": 1760763312.441595, "total_chunks": 7, "chunks": [{"sha": "050bf272f3a3a9b695a1d699a86a882acc1c2683f5279a0c02d085ca8a500d2f", "index": 0, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\050bf272f3a3a9b695a1d699a86a882acc1c2683f5279a0c02d085ca8a500d2f.json", "terms": ["import", "str", "key", "from", "list", "strip", "def", "float", "lower", "out", "split", "try", "_word_re", "w_path", "w_sym", "bar", "foo", "except", "exception", "for", "getenv", "jinx", "memory", "micro", "parts"], "text_preview": "from __future__ import annotations\n\nimport os\nimport re\nimport time\nfrom typing import Dict, List, Tuple\n\nfrom jinx.micro.memory.graph import read_graph_nodes, read_graph_edges\nfrom jinx.micro.memory.graph_fast import read_fast_edges, update_fast\n\n_WORD_RE", "line_start": 1, "line_end": 43}, {"sha": "912422318d2905700285f61bedae213042e4482381baac5250bb6f2819471bfa", "index": 1, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\912422318d2905700285f61bedae213042e4482381baac5250bb6f2819471bfa.json", "terms": ["segs", "return", "startswith", "w_dec", "w_pref", "w_term", "jinx", "except", "exception", "float", "getenv", "strip", "str", "index", "key", "path", "pref", "split", "symbol", "try", "_topic_for_key", "jinx_mem_graph_nodew_decision", "jinx_mem_graph_nodew_pref", "jinx_mem_graph_nodew_term", "w_path"], "text_preview": "w_pref = float(os.getenv(\"JINX_MEM_GRAPH_NODEW_PREF\", \"1.1\"))\n    except Exception:\n        w_pref = 1.1\n    try:\n        w_dec = float(os.getenv(\"JINX_MEM_GRAPH_NODEW_DECISION\", \"1.4\"))\n    except Exception:\n        w_dec = 1.4\n    try:\n        w_term = f", "line_start": 44, "line_end": 82}, {"sha": "8c2f213ac31bf5d06eab72aea82836cf19e4ed857b8421ede31d27ddc9780325", "index": 2, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\8c2f213ac31bf5d06eab72aea82836cf19e4ed857b8421ede31d27ddc9780325.json", "terms": ["float", "str", "list", "hit", "return", "int", "cand", "terms", "tuple", "for", "nodes", "out", "amp", "append", "def", "else", "limit", "math", "max", "qtoks", "query", "startswith", "_match_seed_nodes", "_node_terms", "log1p"], "text_preview": "return \"prefs\"\n    if k.startswith(\"decision: \"):\n        return \"decisions\"\n    if k.startswith(\"term: \"):\n        t = k[6:].strip()\n        return t.split(\".\", 1)[0] if \".\" in t else \"terms\"\n    return \"misc\"\n\n\ndef _match_seed_nodes(qtoks: List[str], nod", "line_start": 83, "line_end": 115}, {"sha": "733ddb69124112d51f86497d94c855608909601ee7c0b093f66c33a3809a3ced", "index": 3, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\733ddb69124112d51f86497d94c855608909601ee7c0b093f66c33a3809a3ced.json", "terms": ["edges", "except", "exception", "try", "float", "default", "getenv", "not", "nodes", "f_edges", "jinx_mem_graph_alpha", "jinx_mem_graph_max_edges", "jinx_mem_graph_max_ms", "jinx_mem_graph_seed_top", "max_edges", "max_ms", "seed_top", "alpha", "damping", "int", "read_fast_edges", "read_graph_edges", "read_graph_nodes", "controls", "dynamics"], "text_preview": "- Dynamics: few steps of symmetric propagation with damping.\n    - Returns top-k nodes (key, score).\n    Controls (env):\n      JINX_MEM_GRAPH_ALPHA (damping, default 0.85)\n      JINX_MEM_GRAPH_SEED_TOP (default 24)\n      JINX_MEM_GRAPH_MAX_EDGES (default 4", "line_start": 116, "line_end": 153}, {"sha": "b11d78400285fde331640f2f61d6babb752d126f4d2460bfe8b8e3bd2b500e5e", "index": 4, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\b11d78400285fde331640f2f61d6babb752d126f4d2460bfe8b8e3bd2b500e5e.json", "terms": ["e_items", "float", "for", "seeds", "try", "max_edges", "use_topic", "except", "exception", "getenv", "str", "perf_counter", "u_exc", "u_inh", "set", "act", "amp", "dict", "edge", "list", "not", "qtoks", "return", "time", "_match_seed_nodes"], "text_preview": "return []\n    qtoks = _tokens(q)\n    seeds = _match_seed_nodes(qtoks, nodes, seed_top)\n    if not seeds:\n        return []\n\n    act: Dict[str, float] = {}\n    for n, amp in seeds:\n        act[n] = float(amp) * _node_type_weight(n)\n    t0 = time.perf_counte", "line_start": 154, "line_end": 191}, {"sha": "b7771c8adf2647e24012fe047650dadfa2358c4687e6fe85adc6a19a4043b3c2", "index": 5, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\b7771c8adf2647e24012fe047650dadfa2358c4687e6fe85adc6a19a4043b3c2.json", "terms": ["new_act", "get", "w_adj", "allowed_topics", "_topic_for_key", "step_topk", "not", "act", "alpha", "clamp", "continue", "damping", "except", "for", "jinx_mem_graph_step_topk", "u_exc", "u_inh", "use_topic", "accumulation", "activations", "and", "apply", "avoid", "based", "clip"], "text_preview": "a, b = ek.split(\"||\", 1)\n            except ValueError:\n                continue\n            if use_topic:\n                ta = _topic_for_key(a)\n                tb = _topic_for_key(b)\n                if ta not in allowed_topics and tb not in allowed_topic", "line_start": 192, "line_end": 218}, {"sha": "8e57be20adf579f3929dc8c99ffa04488e8f63536f79a83068932641ecc7a588", "index": 6, "path": "c7e75b52__jinx__micro__memory__graph_reasoner.py\\8e57be20adf579f3929dc8c99ffa04488e8f63536f79a83068932641ecc7a588.json", "terms": ["items", "amount", "for", "key", "ranked", "step_topk", "act", "except", "exception", "lambda", "max", "seeds", "sorted", "try", "jinx_mem_graph_fast_amount", "max_ms", "new_act", "perf_counter", "update_fast", "break", "fast", "float", "getenv", "overlay", "pass"], "text_preview": "items = sorted(((max(0.0, v), k) for k, v in new_act.items()), key=lambda x: x[0], reverse=True)\n        if step_topk > 0:\n            items = items[:step_topk]\n        act = {k: v for v, k in items}\n        if (time.perf_counter() - t0) * 1000.0 > max_ms:", "line_start": 219, "line_end": 236}], "file_terms": ["float", "return", "str", "for", "except", "try", "exception", "getenv", "key", "list", "new_act", "segs", "startswith", "items", "strip", "not", "import", "seeds", "int", "nodes", "split", "edges", "act", "def", "get"]}