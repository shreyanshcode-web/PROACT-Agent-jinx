{"file_rel": "jinx\\micro\\embeddings\\project_stage_pydef.py", "file_sha256": "6aad213133c3a4516109a28647e3433201d0749b70673e2db6a2ee7c47d275a2", "updated_ts": 1760763311.505599, "total_chunks": 7, "chunks": [{"sha": "08cc3e24af9f97c45a203b04a616e6fd38b811fec8c2bc56b16342c621bae243", "index": 0, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\08cc3e24af9f97c45a203b04a616e6fd38b811fec8c2bc56b16342c621bae243.json", "terms": ["str", "import", "list", "parts", "return", "_ltxt", "def", "for", "from", "toks", "ast", "and", "name", "not", "out", "seen", "split", "set", "append", "extend", "limit", "none", "__future__", "_ann_to_text", "_name_tokens"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport time\nfrom typing import Any, Dict, List, Tuple, Sequence\n\nfrom .project_config import ROOT, EXCLUDE_DIRS, MAX_FILE_BYTES\nfrom .project_iter import iter_candidate_files\n\n\ndef _ltxt(s: str) -> str:\n    re", "line_start": 1, "line_end": 48}, {"sha": "7fcf23b1d89a910f2f6cc2db28cf273db2aa14bef79c52eeeb179ebcc3003413", "index": 1, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\7fcf23b1d89a910f2f6cc2db28cf273db2aa14bef79c52eeeb179ebcc3003413.json", "terms": ["return", "str", "max_time_ms", "getattr", "def", "none", "not", "toks", "exclude_dirs", "max_file_bytes", "_ltxt", "abs_p", "perf_counter", "time_up", "int", "and", "any", "dict", "except", "exception", "float", "list", "query", "time", "tokens"], "text_preview": "return _ltxt(astunparse.unparse(a))\n    except Exception:\n        # fallback rough repr\n        try:\n            return _ltxt(getattr(a, \"id\", \"\") or getattr(getattr(a, \"attr\", None), \"value\", \"\"))\n        except Exception:\n            return \"\"\n\n\ndef stag", "line_start": 49, "line_end": 84}, {"sha": "33263873ba1116d3e0cfa89c513bd25a0e04e00ddf52577d928df185b5239d0d", "index": 2, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\33263873ba1116d3e0cfa89c513bd25a0e04e00ddf52577d928df185b5239d0d.json", "terms": ["ast", "float", "tset", "_ltxt", "continue", "def", "except", "exception", "src", "nm_l", "int", "none", "attribute", "decs", "for", "isinstance", "name", "return", "try", "_name_tokens", "_score_decorators", "_score_name", "_score_params", "best_local", "args"], "text_preview": "except Exception:\n            continue\n        if not src:\n            continue\n        try:\n            tree = ast.parse(src)\n        except Exception:\n            continue\n        lines = src.splitlines()\n\n        best_local: Tuple[float, int, int] | Non", "line_start": 85, "line_end": 123}, {"sha": "0d949769e5515a683e17a67eb16d8c173f2310e106b0cab06ee05d2b95e46a9d", "index": 3, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\0d949769e5515a683e17a67eb16d8c173f2310e106b0cab06ee05d2b95e46a9d.json", "terms": ["ast", "args", "none", "type", "getattr", "params", "list", "ann", "arg", "decs", "append", "for", "ignore", "kwarg", "name", "return", "tset", "vararg", "_ann_to_text", "_ltxt", "_score_decorators", "_score_name", "_visit_def", "best_local", "end_lineno"], "text_preview": "sc = 0.0\n            params = list(args.posonlyargs) + list(args.args) + list(args.kwonlyargs)\n            if getattr(args, \"vararg\", None):\n                params.append(args.vararg)  # type: ignore[arg-type]\n            if getattr(args, \"kwarg\", None):\n ", "line_start": 124, "line_end": 150}, {"sha": "ecc58de54805a55acf547c8e7d23d0c041cd28aa2091d098c1564a93b5fede16", "index": 4, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\ecc58de54805a55acf547c8e7d23d0c041cd28aa2091d098c1564a93b5fede16.json", "terms": ["node", "none", "self", "args", "name", "returns", "best_local", "end_lineno", "ann", "cur", "getattr", "_visit_def", "decorator_list", "ast", "def", "defined", "ignore", "return", "type", "_ann_to_text", "_score_params", "generic_visit", "visit_asyncfunctiondef", "visit_functiondef", "and"], "text_preview": "if args:\n                    sc += _score_params(args)\n                if returns is not None:\n                    ann = _ann_to_text(returns)\n                    if ann and any(t in ann for t in tset):\n                        sc += 0.3\n                if ", "line_start": 151, "line_end": 173}, {"sha": "909a954880de23dea8f9e5e9efa711704a022ddc23f31d333c555d9645149361", "index": 5, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\909a954880de23dea8f9e5e9efa711704a022ddc23f31d333c555d9645149361.json", "terms": ["node", "best_local", "bases", "sc_bases", "cur", "for", "name", "none", "self", "generic_visit", "name_sc", "getattr", "_ann_to_text", "_score_name", "end_lineno", "visit_classdef", "and", "any", "append", "ast", "base", "classdef", "def", "defined", "except"], "text_preview": "self.generic_visit(node)\n\n            def visit_ClassDef(self, node: ast.ClassDef) -> None:  # type: ignore[name-defined]\n                bases = []\n                try:\n                    for b in node.bases:\n                        bases.append(_ann_to_", "line_start": 174, "line_end": 202}, {"sha": "e48d042d5873d03f4c4d37d41630ac6747b7228ba18e39b5ae0c80441b35deb8", "index": 6, "path": "e57299f2__jinx__micro__embeddings__project_stage_pydef.py\\e48d042d5873d03f4c4d37d41630ac6747b7228ba18e39b5ae0c80441b35deb8.json", "terms": ["hits", "rel_p", "obj", "preview", "__all__", "best_local", "file_rel", "line_end", "line_start", "stage_pydef_hits", "text_preview", "append", "break", "embedding", "join", "len", "lines", "meta", "return", "strip"], "text_preview": "sc, a, b = best_local\n            preview = \"\\n\".join(lines[a - 1 : b]).strip()\n            obj = {\n                \"embedding\": [],\n                \"meta\": {\n                    \"file_rel\": rel_p,\n                    \"text_preview\": preview,\n             ", "line_start": 203, "line_end": 221}], "file_terms": ["node", "none", "ast", "str", "return", "name", "args", "def", "getattr", "for", "best_local", "list", "_ltxt", "import", "not", "self", "tset", "type", "and", "int", "except", "exception", "ignore", "toks", "try"]}