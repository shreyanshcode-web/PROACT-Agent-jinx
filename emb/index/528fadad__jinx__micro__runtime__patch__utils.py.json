{"file_rel": "jinx\\micro\\runtime\\patch\\utils.py", "file_sha256": "ba531381c28b33f17e8e5a0318026d2103e6d4028af356e0522862aefd44c93f", "updated_ts": 1760763313.4035676, "total_chunks": 4, "chunks": [{"sha": "52bbb0ac4042c92ac118a024c9c52d5fd92f83ca2f278cbd3f57ede7502366c9", "index": 0, "path": "528fadad__jinx__micro__runtime__patch__utils.py\\52bbb0ac4042c92ac118a024c9c52d5fd92f83ca2f278cbd3f57ede7502366c9.json", "terms": ["str", "diff", "startswith", "import", "path", "int", "add", "def", "rem", "return", "splitlines", "tuple", "new_lines", "old_lines", "unified_diff", "difflib", "for", "from", "keepends", "new", "old", "strategy", "true", "__future__", "added_lines"], "text_preview": "from __future__ import annotations\n\nimport os\nimport difflib\nfrom typing import Tuple, List\nimport re\n\n\ndef unified_diff(old: str, new: str, *, path: str = \"\") -> str:\n    \"\"\"Produce a compact unified diff for preview/logging.\"\"\"\n    old_lines = (old or \"\"", "line_start": 1, "line_end": 37}, {"sha": "f4cba7a70a8b14f1afe0f0e138c3405483bfe2db5fafe1f1107750580150b6bc", "index": 1, "path": "528fadad__jinx__micro__runtime__patch__utils.py\\f4cba7a70a8b14f1afe0f0e138c3405483bfe2db5fafe1f1107750580150b6bc.json", "terms": ["return", "total", "max_changes", "crlf", "false", "str", "changes", "not", "true", "write", "pure_lf", "allow", "count", "def", "else", "except", "exception", "getenv", "lower", "off", "text", "detect_eol", "diff_stats", "jinx_patch_autocommit", "jinx_patch_check_syntax"], "text_preview": "except Exception:\n        max_changes = 40\n    allow = str(os.getenv(\"JINX_PATCH_AUTOCOMMIT\", \"1\")).lower() not in (\"\", \"0\", \"false\", \"off\", \"no\")\n    if not allow:\n        return False, \"autocommit disabled\"\n    a, r = diff_stats(diff)\n    total = a + r\n ", "line_start": 38, "line_end": 72}, {"sha": "4a88c8968a6ba1534ee7a807db94d74615ea7434d1c349cc9b78d5119cd6054e", "index": 2, "path": "528fadad__jinx__micro__runtime__patch__utils.py\\4a88c8968a6ba1534ee7a807db94d74615ea7434d1c349cc9b78d5119cd6054e.json", "terms": ["str", "return", "lines", "def", "list", "bool", "eol", "out", "for", "mins", "nonempty", "not", "leading_ws", "trailing_newline", "and", "endswith", "getenv", "len", "lower", "strip", "text", "true", "try", "anchor_last_enabled", "has_trailing_newline"], "text_preview": "def has_trailing_newline(text: str) -> bool:\n    s = text or \"\"\n    return s.endswith(\"\\n\")\n\n\ndef join_lines(lines: List[str], eol: str, trailing_newline: bool) -> str:\n    out = (eol or \"\\n\").join(lines)\n    if trailing_newline and not out.endswith(eol):\n", "line_start": 73, "line_end": 113}, {"sha": "723756657abcf60d909dbb52e93c7ad8713afc380cc52f9cb48a23fe6a169e2a", "index": 3, "path": "528fadad__jinx__micro__runtime__patch__utils.py\\723756657abcf60d909dbb52e93c7ad8713afc380cc52f9cb48a23fe6a169e2a.json", "terms": ["return", "str", "def", "except", "exception", "false", "bool", "getenv", "lower", "not", "off", "true", "try", "list", "lines", "anchor_regex_enabled", "auto_indent_enabled", "jinx_patch_anchor_regex", "jinx_patch_auto_indent", "jinx_patch_trim_trailing_ws", "trim_trailing_ws_enabled", "trim_trailing_ws_lines", "for", "rstrip"], "text_preview": "except Exception:\n        return False\n\n\ndef anchor_regex_enabled() -> bool:\n    try:\n        return str(os.getenv(\"JINX_PATCH_ANCHOR_REGEX\", \"1\")).lower() not in (\"\", \"0\", \"false\", \"off\", \"no\")\n    except Exception:\n        return True\n\n\ndef auto_indent_e", "line_start": 114, "line_end": 140}], "file_terms": ["str", "return", "def", "false", "lines", "true", "bool", "not", "list", "getenv", "diff", "except", "exception", "lower", "total", "try", "max_changes", "for", "off", "startswith", "crlf", "eol", "import", "path", "and"]}