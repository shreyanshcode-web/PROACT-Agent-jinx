{"file_rel": "jinx\\micro\\embeddings\\similarity.py", "file_sha256": "6d1bc1193cb99bdbf55511b1c1dcbbb613f1f1bbe92fe80b7ef6eddab055f3d6", "updated_ts": 1760763311.853296, "total_chunks": 2, "chunks": [{"sha": "41b39426f392a1aab88a1e34646272722f7fa14fbdf119bbfd7001fe898d3423", "index": 0, "path": "81028129__jinx__micro__embeddings__similarity.py\\41b39426f392a1aab88a1e34646272722f7fa14fbdf119bbfd7001fe898d3423.json", "terms": ["_np", "list", "mat", "shape", "vectors", "query_vec", "float", "for", "import", "float32", "ndim", "asarray", "dtype", "from", "ignore", "iterable", "linalg", "none", "norm", "not", "numpy", "return", "try", "type", "vectorized"], "text_preview": "from __future__ import annotations\n\nfrom typing import Iterable, List\n\ntry:\n    import numpy as _np  # type: ignore\nexcept Exception:  # pragma: no cover\n    _np = None  # type: ignore\n\n\ndef score_cosine_batch(query_vec: List[float], vectors: Iterable[List", "line_start": 1, "line_end": 35}, {"sha": "895617150452a7b963532eff044ee75c1b81d694d57698d358360d04722a6b93", "index": 1, "path": "81028129__jinx__micro__embeddings__similarity.py\\895617150452a7b963532eff044ee75c1b81d694d57698d358360d04722a6b93.json", "terms": ["out", "float", "_math", "append", "dot", "for", "len", "sqrt", "continue", "return", "cosine", "except", "exception", "fallback", "import", "list", "math", "not", "pass", "pure", "python", "sims", "tolist", "vectors", "zip"], "text_preview": "return [float(x) for x in sims.tolist()]\n        except Exception:\n            pass\n\n    # Fallback: pure Python cosine\n    out: List[float] = []\n    import math as _math\n    for v in vectors:\n        if not v or len(v) != len(q):\n            out.append(0.", "line_start": 36, "line_end": 60}], "file_terms": ["_np", "float", "list", "mat", "for", "shape", "out", "vectors", "import", "return", "_math", "query_vec", "append", "dot", "not", "float32", "len", "ndim", "sqrt", "asarray", "continue", "cosine", "dtype", "except", "exception"]}