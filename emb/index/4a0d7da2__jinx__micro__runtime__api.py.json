{"file_rel": "jinx\\micro\\runtime\\api.py", "file_sha256": "6275e2daaafff084b35529bb9c116320542cd594fefa82632ab6f668efffdcba", "updated_ts": 1760763312.7152236, "total_chunks": 4, "chunks": [{"sha": "093fafa16cbd6f04a1a67e9b7b12f89d94003428f77c8abbd2e7f79fb1348d4d", "index": 0, "path": "4a0d7da2__jinx__micro__runtime__api.py\\093fafa16cbd6f04a1a67e9b7b12f89d94003428f77c8abbd2e7f79fb1348d4d.json", "terms": ["import", "from", "_prewarmed_openai", "bool", "false", "_bg_tasks", "_bridge_started", "_selfstudy_started", "get_supervisor", "asyncio", "components", "embeddings", "global", "jinx", "log", "micro", "program", "service", "start", "supervisor", "task", "__future__", "_prewarm_openai", "_register_macro", "ensure_runtime"], "text_preview": "from __future__ import annotations\n\nimport asyncio\nimport os\nfrom typing import Any, Awaitable, Callable, Optional\n\nfrom .bus import get_bus\nfrom .registry import get_registry\nfrom .supervisor import get_supervisor\nfrom .contracts import TASK_REQUEST, TASK", "line_start": 1, "line_end": 36}, {"sha": "2d615ca2ca6bd81cb1249690a66e16f398faf4314123261ba0e604ad84f3da47", "index": 1, "path": "4a0d7da2__jinx__micro__runtime__api.py\\2d615ca2ca6bd81cb1249690a66e16f398faf4314123261ba0e604ad84f3da47.json", "terms": ["embeddings", "except", "exception", "import", "true", "try", "_bridge_started", "from", "ignore", "not", "service", "type", "start_bridge", "start_project_embeddings_task", "bridge", "jinx", "micro", "once", "pass", "start", "_bg_tasks", "_prewarm_openai", "_prewarmed_openai", "_selfstudy_started", "jinx_openai_prewarm"], "text_preview": "on = str(os.getenv(\"JINX_OPENAI_PREWARM\", \"1\")).lower() not in (\"\", \"0\", \"false\", \"off\", \"no\")\n        except Exception:\n            on = True\n        if on:\n            try:\n                _prewarm_openai()\n            except Exception:\n                p", "line_start": 37, "line_end": 66}, {"sha": "fd438520c97bfc52d43838913c3ea39d43d44493d0ef920af06033ff3d317916", "index": 2, "path": "4a0d7da2__jinx__micro__runtime__api.py\\fd438520c97bfc52d43838913c3ea39d43d44493d0ef920af06033ff3d317916.json", "terms": ["await", "pid", "str", "async", "def", "none", "prog", "program", "topic", "get_registry", "microprogram", "return", "get_bus", "get_program", "register_program", "name", "any", "emit", "handler", "object", "payload", "start", "stop", "__class__", "__name__"], "text_preview": "t2 = start_embeddings_task()\n            _bg_tasks.append(t2)\n        except Exception:\n            pass\n        _selfstudy_started = True\n\n\n# Pub/Sub\nasync def on(topic: str, handler: Callable[[str, Any], Awaitable[None]]) -> None:\n    await get_bus().sub", "line_start": 67, "line_end": 108}, {"sha": "319b24b5ccb08a35085f8c1680b8621a16fcaf1fe1391b65b2ed08216f778ecb", "index": 3, "path": "4a0d7da2__jinx__micro__runtime__api.py\\319b24b5ccb08a35085f8c1680b8621a16fcaf1fe1391b65b2ed08216f778ecb.json", "terms": ["str", "none", "await", "tid", "async", "def", "any", "args", "handler", "error", "kwargs", "msg", "name", "pct", "prompt", "result", "emit", "bool", "float", "list", "macro", "namespace", "return", "uuid", "_register_macro"], "text_preview": "await prog.stop()  # type: ignore[func-returns-value]\n        except Exception:\n            pass\n    await remove_program(pid)\n\n\nasync def list_programs() -> list[str]:\n    return await get_registry().list_ids()\n\n\n# Prompt macro API (for microprograms to e", "line_start": 109, "line_end": 141}], "file_terms": ["str", "await", "import", "none", "async", "def", "from", "pid", "program", "any", "prog", "embeddings", "tid", "handler", "except", "exception", "start", "try", "_bridge_started", "get_registry", "name", "bool", "emit", "return", "service"]}