{"file_rel": "jinx\\micro\\embeddings\\hot_store.py", "file_sha256": "a2fe2d3faa530a01c16f90c4284acc78ad62e73a930ec00357c470f848b458f8", "updated_ts": 1760763310.882009, "total_chunks": 2, "chunks": [{"sha": "53698f3baaf899f513b01292cded200c80af9e13ef37f97c21e83cbbf39c7e7d", "index": 0, "path": "5283cfe7__jinx__micro__embeddings__hot_store.py\\53698f3baaf899f513b01292cded200c80af9e13ef37f97c21e83cbbf39c7e7d.json", "terms": ["ttl_ms", "key", "snapshot", "any", "list", "dict", "import", "snap", "str", "and", "asyncio", "return", "_now_ms", "_snapshots", "_tasks", "not", "avoid", "awaitable", "callable", "def", "float", "from", "get", "int", "last"], "text_preview": "from __future__ import annotations\n\nimport asyncio\nimport time\nfrom typing import Any, Awaitable, Callable, Dict, List, Tuple\n\n# Generic hot-snapshot cache for expensive on-disk scans.\n# - Keeps last snapshot in-memory.\n# - Refreshes in background after TT", "line_start": 1, "line_end": 32}, {"sha": "3a5959030576dd65cba1534b3397a0adbc6fb6a36d92de887002d359c847d4e4", "index": 1, "path": "5283cfe7__jinx__micro__embeddings__hot_store.py\\3a5959030576dd65cba1534b3397a0adbc6fb6a36d92de887002d359c847d4e4.json", "terms": ["snap", "ttl_ms", "key", "task", "loader", "res", "return", "_snapshots", "any", "list", "_now_ms", "lock", "async", "asyncio", "await", "def", "_on_done", "and", "awaitable", "callable", "except", "exception", "int", "try", "_locks"], "text_preview": "lock = _LOCKS.setdefault(key, asyncio.Lock())\n    async with lock:\n        snap, ts = _SNAPSHOTS.get(key, (snap, ts))\n        if snap and ttl_ms > 0 and (_now_ms() - ts) <= ttl_ms:\n            return snap\n        # Start loader task\n        task = asyncio.", "line_start": 33, "line_end": 66}], "file_terms": ["ttl_ms", "key", "snap", "return", "any", "list", "loader", "task", "_snapshots", "asyncio", "snapshot", "_now_ms", "and", "lock", "def", "res", "async", "await", "awaitable", "callable", "dict", "import", "int", "str", "_tasks"]}