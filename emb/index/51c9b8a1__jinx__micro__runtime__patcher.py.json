{"file_rel": "jinx\\micro\\runtime\\patcher.py", "file_sha256": "59ceb84bcca74ac9de1f16ece347da29ad7cff7298afb37930719c44157f9388", "updated_ts": 1760763312.7740028, "total_chunks": 6, "chunks": [{"sha": "b77385106cf8042fc54e72e47711670a0ab3f832cbe981812187b77ddb212743", "index": 0, "path": "51c9b8a1__jinx__micro__runtime__patcher.py\\b77385106cf8042fc54e72e47711670a0ab3f832cbe981812187b77ddb212743.json", "terms": ["from", "import", "autopatchprogram", "_autopatchprogramnew", "_patcher_pid", "_patcher_started", "none", "spawn", "str", "__future__", "_submit_anchor_insert_after", "_submit_autopatch", "_submit_autopatch_ex", "_submit_batch_patch", "_submit_dump_by_query", "_submit_dump_by_query_global", "_submit_dump_symbol", "_submit_line_patch", "_submit_refactor_move_symbol", "_submit_refactor_split_file", "_submit_symbol_patch", "_submit_write_file", "list_programs", "patcher_program", "patcher_submit"], "text_preview": "from __future__ import annotations\n\nfrom typing import Any, List, Dict\n\nfrom .api import spawn, list_programs\nfrom .patcher_program import AutoPatchProgram as _AutoPatchProgramNew\nfrom .patcher_submit import (\n    submit_write_file as _submit_write_file,\n ", "line_start": 1, "line_end": 32}, {"sha": "485985f260ea5facb598d953ba10731b4f568910a06d92a8bdff1d4c4bbd3906", "index": 1, "path": "51c9b8a1__jinx__micro__runtime__patcher.py\\485985f260ea5facb598d953ba10731b4f568910a06d92a8bdff1d4c4bbd3906.json", "terms": ["_patcher_pid", "pid", "return", "_patcher_started", "str", "the", "await", "and", "none", "path", "spawn", "task", "async", "def", "live", "pids", "registry", "returns", "running", "text", "true", "_autopatchprogramnew", "_submit_write_file", "ensure_patcher_running", "list_programs"], "text_preview": "# Spawn the micro-module implementation of the patcher program\n    pid = await spawn(_AutoPatchProgramNew())\n    _PATCHER_PID = pid\n    _PATCHER_STARTED = True\n    return pid\n\n\nasync def ensure_patcher_running() -> str | None:\n    \"\"\"Ensure there is exactl", "line_start": 33, "line_end": 67}, {"sha": "70a79661ff6b706053a209f3c8a54a07f07951624277b850eeebc1a94f85029d", "index": 2, "path": "51c9b8a1__jinx__micro__runtime__patcher.py\\70a79661ff6b706053a209f3c8a54a07f07951624277b850eeebc1a94f85029d.json", "terms": ["none", "str", "int", "line_end", "line_start", "anchor", "symbol", "task", "path", "replacement", "async", "await", "def", "return", "submit", "code", "patch", "_submit_anchor_insert_after", "_submit_autopatch", "_submit_line_patch", "_submit_symbol_patch", "submit_anchor_insert_after", "submit_autopatch", "submit_line_patch", "submit_symbol_patch"], "text_preview": "async def submit_line_patch(path: str, line_start: int, line_end: int, replacement: str) -> str:\n    \"\"\"Submit a line-range patch task. Returns task id.\"\"\"\n    return await _submit_line_patch(path, int(line_start), int(line_end), replacement)\n\n\nasync def s", "line_start": 68, "line_end": 87}, {"sha": "77566bf3a15a0381c222cd64aab2c8d473372aa093b66bba76105e5be785f978", "index": 3, "path": "51c9b8a1__jinx__micro__runtime__patcher.py\\77566bf3a15a0381c222cd64aab2c8d473372aa093b66bba76105e5be785f978.json", "terms": ["none", "str", "force", "preview", "max_span", "query", "context_before", "context_tolerance", "line_end", "line_start", "int", "anchor", "bool", "code", "path", "symbol", "async", "await", "def", "ops", "return", "submit", "with", "_submit_autopatch_ex", "_submit_batch_patch"], "text_preview": "async def submit_autopatch_ex(*, path: str | None = None, code: str | None = None, line_start: int | None = None, line_end: int | None = None, symbol: str | None = None, anchor: str | None = None, query: str | None = None, preview: bool | None = None, max_", "line_start": 88, "line_end": 110}, {"sha": "9601f13d12eacad82cc50b53db0d8c7f6b575bb951dc04a152ff36ec1c72c682", "index": 4, "path": "51c9b8a1__jinx__micro__runtime__patcher.py\\9601f13d12eacad82cc50b53db0d8c7f6b575bb951dc04a152ff36ec1c72c682.json", "terms": ["none", "str", "bool", "include_decorators", "include_docstring", "topk", "src_path", "async", "await", "def", "dump", "into", "query", "return", "symbol", "class", "function", "the", "_submit_dump_by_query", "_submit_dump_by_query_global", "_submit_dump_symbol", "submit_dump_by_query", "submit_dump_by_query_global", "submit_dump_symbol", "and"], "text_preview": "async def submit_dump_symbol(src_path: str, symbol: str, out_path: str, *, include_decorators: bool | None = None, include_docstring: bool | None = None) -> str:\n    \"\"\"Dump a function/class by name from src_path into out_path using the patch pipeline.\"\"\"\n", "line_start": 111, "line_end": 125}, {"sha": "e7741e510f3a71a2f62cbdf869187503fd60d4953c4cdc8ba86b56ccb5573677", "index": 5, "path": "51c9b8a1__jinx__micro__runtime__patcher.py\\e7741e510f3a71a2f62cbdf869187503fd60d4953c4cdc8ba86b56ccb5573677.json", "terms": ["none", "str", "bool", "create_init", "insert_shim", "force", "into", "out_dir", "symbol", "dst_path", "src_path", "and", "async", "await", "def", "return", "_submit_refactor_move_symbol", "_submit_refactor_split_file", "submit_refactor_move_symbol", "submit_refactor_split_file", "another", "class", "convert", "exports", "file"], "text_preview": "async def submit_refactor_move_symbol(src_path: str, symbol: str, dst_path: str, *, create_init: bool | None = None, insert_shim: bool | None = None, force: bool | None = None) -> str:\n    \"\"\"Move a top-level function/class to another module with safe shim", "line_start": 126, "line_end": 133}], "file_terms": ["none", "str", "return", "bool", "path", "symbol", "await", "async", "def", "force", "src_path", "int", "include_decorators", "include_docstring", "_patcher_pid", "query", "out_path", "anchor", "the", "line_end", "line_start", "code", "task", "and", "from"]}