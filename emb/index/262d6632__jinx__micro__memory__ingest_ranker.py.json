{"file_rel": "jinx\\micro\\memory\\ingest_ranker.py", "file_sha256": "43d591e817812f4e9f8488ee560c923f9d30e7fca98470e016bd82b51a49eb53", "updated_ts": 1760763312.4844842, "total_chunks": 3, "chunks": [{"sha": "de5cd6dbb3eddd07a80db469abc26463a75920eb9d2517552864c56411376454", "index": 0, "path": "262d6632__jinx__micro__memory__ingest_ranker.py\\de5cd6dbb3eddd07a80db469abc26463a75920eb9d2517552864c56411376454.json", "terms": ["import", "from", "return", "score", "float", "for", "str", "def", "int", "pch", "time", "_is_code_like", "_is_noise", "source_bias", "strip", "except", "exception", "jinx", "len", "list", "micro", "min", "minlen", "richness", "try"], "text_preview": "from __future__ import annotations\n\nimport os\nimport time\nfrom typing import List, Tuple\n\nfrom jinx.micro.text.heuristics import is_code_like as _is_code_like\nfrom jinx.micro.embeddings.text_clean import is_noise_text as _is_noise\n\n\ndef _now_ms() -> int:\n ", "line_start": 1, "line_end": 45}, {"sha": "f632cbd067fe478971e5a00763e589bcbd0859ba46a8628f7fd67fecf367c582", "index": 1, "path": "262d6632__jinx__micro__memory__ingest_ranker.py\\f632cbd067fe478971e5a00763e589bcbd0859ba46a8628f7fd67fecf367c582.json", "terms": ["k_total", "compact", "tail", "include_evergreen", "str", "int", "evergreen", "max", "c_take", "from", "minlen", "else", "lines", "recency", "_lines", "c_lines", "e_take", "none", "and", "float", "head", "list", "score", "weight", "build_candidates"], "text_preview": "# positional weight (recency or head priority)\n    score += float(pos_weight)\n    return score\n\n\ndef build_candidates(compact: str | None, evergreen: str | None, *, k_total: int, minlen: int, include_evergreen: bool) -> List[str]:\n    \"\"\"Select top-k salie", "line_start": 46, "line_end": 77}, {"sha": "b1ff8ff860f1f917db65d2abca2de99a12c20206c923a9bcaa26d9a3911ecb8d", "index": 2, "path": "262d6632__jinx__micro__memory__ingest_ranker.py\\b1ff8ff860f1f917db65d2abca2de99a12c20206c923a9bcaa26d9a3911ecb8d.json", "terms": ["minlen", "pos_w", "cand", "append", "head", "out", "_score_line", "e_lines", "e_take", "pos_weight", "source_bias", "tail_e", "and", "for", "len", "max", "seen", "set", "enumerate", "sort", "str", "_sc", "include_evergreen", "k_total", "add"], "text_preview": "pos_w = 0.6 * (i / max(1, n - 1)) if n > 1 else 0.6\n        sc = _score_line(s, pos_weight=pos_w, source_bias=0.4, minlen=minlen)\n        if sc >= 0:\n            cand.append((sc, s))\n\n    # Evergreen head + tail: small stability component\n    if include_ev", "line_start": 78, "line_end": 111}], "file_terms": ["minlen", "str", "k_total", "for", "from", "int", "head", "import", "max", "return", "score", "tail", "pos_w", "float", "cand", "compact", "evergreen", "len", "e_take", "include_evergreen", "pos_weight", "source_bias", "and", "list", "_score_line"]}