{"file_rel": "jinx\\priority.py", "file_sha256": "2258864ca9b767ee373cea1719fe2bd61e8a2e3264db54e57b82db416a67691d", "updated_ts": 1760763309.7841375, "total_chunks": 3, "chunks": [{"sha": "41e7ef79b6a482cb7fb247506913e07c19d04f8ffa4f4de9738f272b864cbd6a", "index": 0, "path": "45d980e8__jinx__priority.py\\41e7ef79b6a482cb7fb247506913e07c19d04f8ffa4f4de9738f272b864cbd6a.json", "terms": ["import", "asyncio", "settings", "str", "return", "def", "int", "from", "priority", "no_response", "queue", "async", "budget", "dst", "heap", "list", "loop", "msg", "none", "src", "tuple", "__future__", "_awaitable_src_get", "_run", "classify_priority"], "text_preview": "from __future__ import annotations\n\nimport asyncio\nimport heapq\nimport contextlib\nfrom typing import List, Tuple\n\nfrom jinx.settings import Settings\n\n\ndef classify_priority(msg: str) -> int:\n    \"\"\"\n    Classify a message priority.\n\n    Lower numbers are h", "line_start": 1, "line_end": 42}, {"sha": "d399f03e8dbf7d85ae5f0c771b5f57607ee12b23333fe67204e47f95db014274", "index": 1, "path": "45d980e8__jinx__priority.py\\d399f03e8dbf7d85ae5f0c771b5f57607ee12b23333fe67204e47f95db014274.json", "terms": ["asyncio", "get_task", "msg", "cancel", "await", "flush_task", "done", "create_task", "next_yield", "cancellederror", "except", "loop", "not", "raise", "seq", "sleep", "time", "try", "_awaitable_src_get", "classify_priority", "first_completed", "return_when", "use_priority_queue", "budget", "continue"], "text_preview": "if not settings.runtime.use_priority_queue:\n                # Fast path: FIFO pass-through with cooperative yield\n                msg = await src.get()\n                await dst.put(msg)\n                if loop.time() >= next_yield:\n                    awa", "line_start": 43, "line_end": 71}, {"sha": "cc1a8a29027b312f5ba72ed298fce8a717b6dbd79beeee8ba3f4280214e2d1de", "index": 2, "path": "45d980e8__jinx__priority.py\\cc1a8a29027b312f5ba72ed298fce8a717b6dbd79beeee8ba3f4280214e2d1de.json", "terms": ["asyncio", "await", "flush_task", "next_yield", "cancellederror", "contextlib", "heap", "item", "loop", "suppress", "time", "with", "_run", "create_task", "get_task", "budget", "cancel", "done", "dst", "heappop", "heapq", "not", "put", "return", "sleep"], "text_preview": "with contextlib.suppress(asyncio.CancelledError):\n                    await get_task\n            if not flush_task.done():\n                flush_task.cancel()\n                with contextlib.suppress(asyncio.CancelledError):\n                    await flush", "line_start": 72, "line_end": 87}], "file_terms": ["asyncio", "await", "get_task", "msg", "flush_task", "settings", "import", "loop", "return", "next_yield", "cancel", "str", "heap", "time", "budget", "cancellederror", "def", "done", "dst", "not", "priority", "with", "create_task", "int", "contextlib"]}