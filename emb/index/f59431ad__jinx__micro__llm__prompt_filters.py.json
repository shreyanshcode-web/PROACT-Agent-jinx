{"file_rel": "jinx\\micro\\llm\\prompt_filters.py", "file_sha256": "b29e024e89644b24c8351a0905eef81b5865b8a1ca84ff8cc5f2b3cc791913da", "updated_ts": 1760763312.2989597, "total_chunks": 3, "chunks": [{"sha": "e321d0a681647eb5e8baac2ed539e8fc01dbc8a50104f2498bd6c53a77513baa", "index": 0, "path": "f59431ad__jinx__micro__llm__prompt_filters.py\\e321d0a681647eb5e8baac2ed539e8fc01dbc8a50104f2498bd6c53a77513baa.json", "terms": ["import", "jinx", "from", "path", "str", "lines", "paths", "filter_internals_enabled", "privacy_filter_mode", "any", "default", "internal", "micro", "remove", "text", "that", "__future__", "filter_mode", "has_abs_path", "internal_paths", "is_internal_path", "is_log_path", "is_restricted_path", "jinx_filter_internals", "pii_redact_enabled"], "text_preview": "from __future__ import annotations\n\nimport os\nimport re\nfrom typing import Iterable\n\nfrom jinx.micro.common.internal_paths import (\n    is_internal_path,\n    is_log_path,\n    is_restricted_path,\n)\nfrom jinx.micro.privacy.policy import (\n    filter_internal", "line_start": 1, "line_end": 41}, {"sha": "7acb60c3b3c2809cbff7919410f0f51fad58722a80a68a9171c8df2482bc6a09", "index": 1, "path": "f59431ad__jinx__micro__llm__prompt_filters.py\\7acb60c3b3c2809cbff7919410f0f51fad58722a80a68a9171c8df2482bc6a09.json", "terms": ["path", "ln2", "lines", "jinx", "and", "fence", "lstrip", "log", "str", "block", "code", "flags", "following", "header", "ignorecase", "return", "skip", "startswith", "sub", "the", "while", "_redact_line", "is_restricted_path", "break", "closing"], "text_preview": "def _redact_line(ln: str) -> str:\n        try:\n            # replace path segments only; keep surrounding text\n            ln2 = re.sub(r\"(^|[\\\\/])\\.jinx([\\\\/]|$)\", r\"\\1[JINX]\\2\", ln, flags=re.IGNORECASE)\n            ln2 = re.sub(r\"(^|[\\\\/])log([\\\\/]|$)\", ", "line_start": 42, "line_end": 67}, {"sha": "0ea25f349b7f9cc5a21e919d300cb4c51fdacf292bb9cfb98523c2b72f1b24c5", "index": 2, "path": "f59431ad__jinx__micro__llm__prompt_filters.py\\0ea25f349b7f9cc5a21e919d300cb4c51fdacf292bb9cfb98523c2b72f1b24c5.json", "terms": ["ln_mask", "sanitized", "else", "out", "redact", "append", "continue", "mode", "and", "drive", "drop", "pass", "paths", "root", "sub", "_redact_line", "has_abs_path", "is_restricted_path", "pii_redact_enabled", "redact_pii", "restrict_abs_paths_enabled", "absolute", "any", "coarse", "default"], "text_preview": "continue\n        # Drop or redact any lines that directly reveal restricted paths (.jinx/log)\n        if on and is_restricted_path(ln):\n            if mode == \"redact\":\n                out.append(_redact_line(ln))\n            else:\n                # strip ", "line_start": 68, "line_end": 98}], "file_terms": ["jinx", "path", "lines", "and", "import", "str", "out", "paths", "ln2", "ln_mask", "sanitized", "drop", "else", "from", "mode", "redact", "sub", "is_restricted_path", "log", "any", "append", "block", "code", "continue", "default"]}