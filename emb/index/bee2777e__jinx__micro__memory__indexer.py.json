{"file_rel": "jinx\\micro\\memory\\indexer.py", "file_sha256": "cff8496a564d711e0059e9c0070f98490b7de7ef941d1ee0ff6d439ec92a357c", "updated_ts": 1760763312.4843733, "total_chunks": 4, "chunks": [{"sha": "271ca6311b7d3122114e388c8c61ef0171145e10a77b1de49a50b33f5515a68e", "index": 0, "path": "bee2777e__jinx__micro__memory__indexer.py\\271ca6311b7d3122114e388c8c61ef0171145e10a77b1de49a50b33f5515a68e.json", "terms": ["import", "from", "default", "jinx", "memory", "micro", "none", "evergreen", "str", "and", "compact", "dedup", "ledger", "lines", "per", "ttl", "__future__", "_build_candidates", "_embed_text", "_filter_new_lines", "_update_ledger", "build_candidates", "embed_text", "filter_new_lines", "ingest_dedup"], "text_preview": "from __future__ import annotations\n\nimport os\nimport time\nimport asyncio\nfrom typing import List\n\nfrom jinx.micro.embeddings.pipeline import embed_text as _embed_text\nfrom jinx.micro.memory.storage import memory_dir\nfrom jinx.micro.memory.ingest_ranker imp", "line_start": 1, "line_end": 27}, {"sha": "7d8290122d2720bb6dd067562b32a9c6b2531a64563ea1070535c6cfbd832c74", "index": 1, "path": "bee2777e__jinx__micro__memory__indexer.py\\7d8290122d2720bb6dd067562b32a9c6b2531a64563ea1070535c6cfbd832c74.json", "terms": ["try", "except", "exception", "getenv", "int", "inc_ever", "jinx_mem_emb_per_call_timeout_ms", "k_total", "ledger_ttl", "max_time_ms", "min_interval", "per_call_timeout", "default", "embed", "max", "minlen", "jinx_mem_emb_conc", "jinx_mem_emb_include_evergreen", "jinx_mem_emb_k", "jinx_mem_emb_ledger_ttl_ms", "jinx_mem_emb_max_time_ms", "jinx_mem_emb_min_interval_ms", "jinx_mem_emb_minlen", "concurrency", "config"], "text_preview": "- JINX_MEM_EMB_PER_CALL_TIMEOUT_MS: per-embed timeout (default 200)\n    - JINX_MEM_EMB_CONC: embed concurrency (default 3)\n    \"\"\"\n    # Read config\n    try:\n        k_total = max(1, int(os.getenv(\"JINX_MEM_EMB_K\", \"12\")))\n    except Exception:\n        k_t", "line_start": 28, "line_end": 60}, {"sha": "ec2af8a018c505cd2a61a4f31ff8c5391fa46db96cec667dd70b3642f8da1865", "index": 2, "path": "bee2777e__jinx__micro__memory__indexer.py\\ec2af8a018c505cd2a61a4f31ff8c5391fa46db96cec667dd70b3642f8da1865.json", "terms": ["stamp", "except", "exception", "now", "int", "last", "picked", "return", "str", "try", "k_total", "min_interval", "new_lines", "minlen", "time", "conc", "encoding", "not", "open", "pass", "utf", "with", "write", "_build_candidates", "_filter_new_lines"], "text_preview": "conc = max(1, int(os.getenv(\"JINX_MEM_EMB_CONC\", \"3\")))\n    except Exception:\n        conc = 3\n\n    # Throttle between runs\n    stamp = os.path.join(memory_dir(), \".emb_last_run\")\n    try:\n        st = os.stat(stamp)\n        last = int(st.st_mtime * 1000)\n", "line_start": 61, "line_end": 96}, {"sha": "570a9e338889ce56c9e3a07ebe07202fbc8d6f93534eff60de522fe6e5e4adb8", "index": 3, "path": "bee2777e__jinx__micro__memory__indexer.py\\570a9e338889ce56c9e3a07ebe07202fbc8d6f93534eff60de522fe6e5e4adb8.json", "terms": ["asyncio", "except", "exception", "tasks", "try", "await", "budget", "with", "max_time_ms", "_embed_one", "_embed_text", "k_total", "per_call_timeout", "perf_counter", "and", "async", "global", "kind", "mem", "pass", "return", "sem", "source", "stamp", "state"], "text_preview": "# Enforce overall budget while embedding with bounded concurrency\n    t0 = time.perf_counter()\n    sem = asyncio.Semaphore(conc)\n\n    async def _embed_one(s: str) -> None:\n        # Check global budget before starting\n        if max_time_ms > 0 and (time.p", "line_start": 97, "line_end": 130}], "file_terms": ["except", "exception", "try", "import", "int", "str", "default", "getenv", "from", "stamp", "k_total", "with", "time", "and", "asyncio", "memory", "now", "pass", "return", "max_time_ms", "min_interval", "ledger_ttl", "per_call_timeout", "none", "minlen"]}