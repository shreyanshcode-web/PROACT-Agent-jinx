{"file_rel": "jinx\\micro\\conversation\\proj_context_enricher.py", "file_sha256": "712927925949d8325079a23bddf1a0d99bac3169254ae4a1749393e429c9d517", "updated_ts": 1760763310.6272159, "total_chunks": 5, "chunks": [{"sha": "816f1cd9729abd331032ba3641a4b90f5fe995111c5d8426bd7015c0fffb6e63", "index": 0, "path": "4d0c4776__jinx__micro__conversation__proj_context_enricher.py\\816f1cd9729abd331032ba3641a4b90f5fe995111c5d8426bd7015c0fffb6e63.json", "terms": ["from", "import", "jinx", "memory", "micro", "query", "str", "task", "hints", "embeddings", "routed", "__future__", "_build_code_subqs", "_build_evg_hints", "_build_proj_ctx_multi", "_build_proj_ctx_single", "_is_code_like", "_memroute", "_read_channel", "assemble_memroute", "build_codecentric_subqueries", "build_evergreen_hints", "build_project_context_enriched", "build_project_context_for", "build_project_context_multi_for"], "text_preview": "from __future__ import annotations\n\nimport os\nfrom typing import List\n\nfrom jinx.micro.memory.router import assemble_memroute as _memroute\nfrom jinx.micro.embeddings.project_retrieval import (\n    build_project_context_for as _build_proj_ctx_single,\n    bu", "line_start": 1, "line_end": 29}, {"sha": "37b78f979759c8b315d7e2190c687ae6349176554c151bc984b94a92335cb4ed", "index": 1, "path": "4d0c4776__jinx__micro__conversation__proj_context_enricher.py\\37b78f979759c8b315d7e2190c687ae6349176554c151bc984b94a92335cb4ed.json", "terms": ["_q_proj", "except", "exception", "try", "max_q_chars", "codey", "getenv", "evg_on", "mem_hints", "subq_cap", "else", "int", "str", "proj_k", "and", "await", "list", "not", "_build_evg_hints", "_is_code_like", "_memroute", "first_budget", "jinx_evg_hints_enable", "jinx_proj_ctx_k", "jinx_proj_query_max_chars"], "text_preview": "mem_hints: List[str] = await _memroute(_q, k=8, preview_chars=120)\n    except Exception:\n        mem_hints = []\n    # Caps and dynamics\n    try:\n        max_q_chars = int(os.getenv(\"JINX_PROJ_QUERY_MAX_CHARS\", \"800\"))\n    except Exception:\n        max_q_ch", "line_start": 30, "line_end": 60}, {"sha": "c14ce595a86a81480b303955d90b04c2e525f9da1d8703365dc5d67659e1cf63", "index": 2, "path": "4d0c4776__jinx__micro__conversation__proj_context_enricher.py\\c14ce595a86a81480b303955d90b04c2e525f9da1d8703365dc5d67659e1cf63.json", "terms": ["subqs", "strip", "tok_phrase", "add_more", "evg", "not", "max_q_chars", "max_tok", "max", "get", "len", "tokens", "append", "break", "continue", "for", "paths", "symbols", "jinx_evg_hint_toks", "subq_cap", "and", "based", "couple", "decisions", "except"], "text_preview": "evg = {\"tokens\": [], \"paths\": [], \"symbols\": [], \"prefs\": [], \"decisions\": []}\n        # tokens phrase first\n        try:\n            max_tok = max(1, int(os.getenv(\"JINX_EVG_HINT_TOKS\", \"8\")))\n        except Exception:\n            max_tok = 8\n        tok_", "line_start": 61, "line_end": 91}, {"sha": "d14d8d04f0e739a07d217d6526cac8af4c208b51556ec858f4882a61fda8f899", "index": 3, "path": "4d0c4776__jinx__micro__conversation__proj_context_enricher.py\\d14d8d04f0e739a07d217d6526cac8af4c208b51556ec858f4882a61fda8f899.json", "terms": ["subqs", "add_more", "ch_paths", "max_q_chars", "str", "max", "prefix", "append", "except", "exception", "for", "len", "not", "try", "_read_channel", "ch_syms", "subq_cap", "await", "low", "paths", "splitlines", "strip", "symbols", "task", "top"], "text_preview": "qh = qh[:max_q_chars]\n            if qh not in subqs:\n                subqs.append(qh)\n                add_more -= 1\n    # 1) task + top memory hints\n    for h in (mem_hints or [])[: max(0, subq_cap)]:\n        qh = f\"{_q} {h}\".strip()\n        if len(qh) > ", "line_start": 92, "line_end": 128}, {"sha": "4343eb36746a7bdbe441349652ac10638cba263330881ea379974c94773e4fcc", "index": 4, "path": "4d0c4776__jinx__micro__conversation__proj_context_enricher.py\\4343eb36746a7bdbe441349652ac10638cba263330881ea379974c94773e4fcc.json", "terms": ["subqs", "ctx", "max_q_chars", "len", "not", "add_more", "max_time_ms", "proj_k", "await", "_after", "_build_proj_ctx_multi", "first_budget", "query", "append", "continue", "else", "strip", "try", "_build_proj_ctx_single", "_q_proj", "ch_syms", "break", "budget", "build", "context"], "text_preview": "p = _after(\"path: \", ln)\n        if not p:\n            continue\n        qh = f\"{_q} {p}\".strip()\n        if len(qh) > max_q_chars:\n            qh = qh[:max_q_chars]\n        if qh not in subqs:\n            subqs.append(qh)\n            add_more -= 1\n    for ", "line_start": 129, "line_end": 165}], "file_terms": ["subqs", "max_q_chars", "not", "except", "exception", "try", "_q_proj", "add_more", "len", "strip", "str", "ctx", "from", "import", "await", "query", "append", "memory", "micro", "proj_k", "subq_cap", "max", "task", "else", "for"]}