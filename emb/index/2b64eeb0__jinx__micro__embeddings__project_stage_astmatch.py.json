{"file_rel": "jinx\\micro\\embeddings\\project_stage_astmatch.py", "file_sha256": "5f145ed30ff4fea3c9a4e5c66a9a7921210138d0b269d8717ab15b476b7335ae", "updated_ts": 1760763311.321153, "total_chunks": 8, "chunks": [{"sha": "43239c8ff9c299869530dc6e053554cf0491c361d818b55c018a501e87c2cc34", "index": 0, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\43239c8ff9c299869530dc6e053554cf0491c361d818b55c018a501e87c2cc34.json", "terms": ["import", "include_names", "ast", "return", "from", "limit_ms", "def", "_node_skeleton", "str", "and", "any", "attribute", "base", "bool", "else", "isinstance", "names", "none", "path", "time", "type", "__future__", "__name__", "_read_text", "_time_is_up"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport os\nimport time\nfrom typing import Any, Dict, List, Tuple\n\nfrom .project_config import ROOT, EXCLUDE_DIRS, MAX_FILE_BYTES\nfrom .project_iter import iter_candidate_files\nfrom .project_scan_store import it", "line_start": 1, "line_end": 37}, {"sha": "81a7c03820cdc3ec5c70d16d8187f47d0ce04f450836c9c27620b2cd67c30b6f", "index": 1, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\81a7c03820cdc3ec5c70d16d8187f47d0ce04f450836c9c27620b2cd67c30b6f.json", "terms": ["ast", "val", "isinstance", "include_names", "items", "key", "append", "else", "__name__", "boolop", "node", "return", "type", "_node_skeleton", "constant", "field", "for", "keep", "list", "name", "operator", "tuple", "_informative", "iter_fields", "alias"], "text_preview": "if isinstance(n, ast.Constant):\n        ct = type(n.value).__name__\n        return (t, ct)\n    if isinstance(n, ast.alias):\n        return (t, (n.name if include_names else \"_\"))\n    # Recurse over fields\n    items: List[Any] = [t]\n    for field in ast.ite", "line_start": 38, "line_end": 65}, {"sha": "1e3c10b5a816e7a4a1e476395d20b48d445c4b71f83e8e2f17ba208f51ba7db7", "index": 2, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\1e3c10b5a816e7a4a1e476395d20b48d445c4b71f83e8e2f17ba208f51ba7db7.json", "terms": ["node", "ast", "return", "isinstance", "_informative", "the", "vals", "try", "call", "mod", "none", "body", "compare", "except", "exception", "expression", "for", "getattr", "left", "not", "operand", "pass", "query", "_extract_query_node", "already"], "text_preview": "vals = list(getattr(node, \"values\", []) or [])\n            for v in vals:\n                if not isinstance(v, ast.Constant):\n                    return _informative(v)\n            return vals[0] if vals else node\n        # Prefer the call itself if presen", "line_start": 66, "line_end": 99}, {"sha": "411c1c89d5cdec6e5d7c285b28099e0f626a029d5501e4dde8c3c9c49a08d55d", "index": 3, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\411c1c89d5cdec6e5d7c285b28099e0f626a029d5501e4dde8c3c9c49a08d55d.json", "terms": ["s_stripped", "node", "and", "ast", "return", "cand", "none", "_try_eval", "boolean", "parse", "try", "_informative", "endswith", "replace", "startswith", "attr", "body", "defined", "eval", "except", "exception", "expr", "ignore", "like", "mode"], "text_preview": "expr = ast.parse(q, mode=\"eval\")\n        return _informative(expr.body)  # type: ignore[attr-defined]\n    except Exception:\n        pass\n    # Salvage common boolean fragments like: 'and isinstance(x, T)' or 'call() and'\n    try:\n        s = q\n        # No", "line_start": 100, "line_end": 129}, {"sha": "bfe1c1e89d777a9127e1cae7152b3fd7be98b09563b14c481383c8de7c0bdfc4", "index": 4, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\bfe1c1e89d777a9127e1cae7152b3fd7be98b09563b14c481383c8de7c0bdfc4.json", "terms": ["int", "str", "none", "test", "qnode", "query", "return", "ast", "around", "lines", "list", "pass", "tuple", "_node_skeleton", "include_names", "any", "body", "def", "dict", "except", "exception", "float", "getattr", "hits", "max"], "text_preview": "if getattr(m, \"body\", None):\n                test = getattr(m.body[0], \"test\", None)\n                if isinstance(test, ast.AST):\n                    return _informative(test)\n        except Exception:\n            pass\n    except Exception:\n        pass\n ", "line_start": 130, "line_end": 167}, {"sha": "703ad0479171e2d64e130a94b48cf045ed6e473e43ac61ccd38cc2702718a685", "index": 5, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\703ad0479171e2d64e130a94b48cf045ed6e473e43ac61ccd38cc2702718a685.json", "terms": ["node", "return", "src", "false", "true", "_node_skeleton", "_time_is_up", "abs_p", "include_names", "max_time_ms", "rel_p", "sk2", "str", "ast", "getattr", "int", "lines", "not", "tree", "try", "_read_text", "_window", "end_lineno", "file_rel", "sk_loose"], "text_preview": "def process(abs_p: str, rel_p: str) -> bool:\n        if _time_is_up(t0, max_time_ms):\n            return True\n        src = _read_text(abs_p)\n        if not src:\n            return False\n        try:\n            tree = ast.parse(src)\n        except Excepti", "line_start": 168, "line_end": 198}, {"sha": "86557939989eead9877931733a54f8b6817d504568c4d74df1082061dee98c1e", "index": 6, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\86557939989eead9877931733a54f8b6817d504568c4d74df1082061dee98c1e.json", "terms": ["rel", "rel_files", "for", "hits", "obj", "return", "score", "seen", "str", "get", "lines", "set", "append", "except", "exception", "files", "join", "len", "file_rel", "iter_project_chunks", "line_end", "line_start", "rel_p", "sk_strict", "text_preview"], "text_preview": "\"text_preview\": snip or \"\\n\".join(lines[max(0, s-1):min(len(lines), e)]).strip(),\n                            \"line_start\": a,\n                            \"line_end\": b,\n                        },\n                    }\n                    # Higher score fo", "line_start": 199, "line_end": 229}, {"sha": "ae19f727bf648c82f40a749c7c686e96c15069de15bc568fd953584096343794", "index": 7, "path": "2b64eeb0__jinx__micro__embeddings__project_stage_astmatch.py\\ae19f727bf648c82f40a749c7c686e96c15069de15bc568fd953584096343794.json", "terms": ["exclude_dirs", "max_file_bytes", "hits", "rel", "return", "__all__", "include_exts", "iter_candidate_files", "stage_astmatch_hits", "for", "process", "root"], "text_preview": "for ap, rel in iter_candidate_files(ROOT, include_exts=[\"py\"], exclude_dirs=EXCLUDE_DIRS, max_file_bytes=MAX_FILE_BYTES):\n        if process(ap, rel):\n            return hits[:k]\n\n    return hits[:k]\n\n\n__all__ = [\"stage_astmatch_hits\"]", "line_start": 230, "line_end": 237}], "file_terms": ["ast", "return", "node", "isinstance", "include_names", "str", "none", "try", "int", "rel", "except", "exception", "and", "def", "for", "s_stripped", "_informative", "_node_skeleton", "else", "import", "list", "not", "pass", "true", "val"]}