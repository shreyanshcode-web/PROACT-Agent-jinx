{"file_rel": "jinx\\micro\\embeddings\\project_callgraph.py", "file_sha256": "ef920bfb641ff9516c09dd7ff4269bdec286b4d77eb49539869438d64afc1164", "updated_ts": 1760763311.0332417, "total_chunks": 7, "chunks": [{"sha": "22515acfa0bbfd5a5d2ee8a6e5b35942288dc7f2869b24fde87c5e09c17d898a", "index": 0, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\22515acfa0bbfd5a5d2ee8a6e5b35942288dc7f2869b24fde87c5e09c17d898a.json", "terms": ["ast", "import", "from", "return", "int", "str", "def", "getattr", "node", "optional", "abs_path", "except", "exception", "none", "symbol", "text", "tree", "try", "tuple", "__future__", "_def_node_span", "_find_def_node", "_parse_ast_safe", "_read_text", "end_lineno"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport os\nimport time\nfrom typing import Dict, List, Tuple, Optional\n\nfrom .project_config import ROOT, INCLUDE_EXTS, EXCLUDE_DIRS, MAX_FILE_BYTES\nfrom .project_iter import iter_candidate_files\nfrom .project_l", "line_start": 1, "line_end": 42}, {"sha": "e5a5dd70c9f076266489e3bad0420bee16a7f277f872f53b7291e0f31fecd92e", "index": 1, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\e5a5dd70c9f076266489e3bad0420bee16a7f277f872f53b7291e0f31fecd92e.json", "terms": ["str", "ast", "list", "names", "out", "time_budget_ms", "rel_p", "isinstance", "not", "sub", "exclude_dirs", "include_exts", "max_file_bytes", "abs_p", "perf_counter", "int", "and", "append", "break", "def", "for", "limit", "node", "none", "return"], "text_preview": "def _find_callees_in_def(node: ast.AST) -> List[str]:\n    names: List[str] = []\n    for sub in ast.walk(node):\n        if isinstance(sub, ast.Call):\n            fn = getattr(sub, \"func\", None)\n            if isinstance(fn, ast.Name):\n                nm = f", "line_start": 43, "line_end": 77}, {"sha": "1ab7583c66860c982fe1aadc4fb6b266b89a32ea17c8037945bef935e1c36806", "index": 2, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\1ab7583c66860c982fe1aadc4fb6b266b89a32ea17c8037945bef935e1c36806.json", "terms": ["str", "int", "not", "symbol", "text", "time_budget_ms", "continue", "def", "list", "tree", "abs_p", "perf_counter", "scan_cap_files", "around", "snippet", "time", "tuple", "window", "_def_node_span", "_find_def_node", "_find_defs_by_name", "_iter_project_py_files", "_parse_ast_safe", "_read_text", "file_rel"], "text_preview": "def _find_defs_by_name(symbol: str, *, scan_cap_files: int, time_budget_ms: Optional[int]) -> List[Tuple[str, int, int, str, str]]:\n    \"\"\"Find definitions of symbol across project.\n\n    Returns list of (file_rel, line_start, line_end, snippet, lang)\n    \"", "line_start": 78, "line_end": 105}, {"sha": "231d08ca26eb1e97275a88ce2f97b1ba37148c3b9bed78d9b810f70df8112df7", "index": 3, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\231d08ca26eb1e97275a88ce2f97b1ba37148c3b9bed78d9b810f70df8112df7.json", "terms": ["str", "int", "rel_p", "time_budget_ms", "list", "not", "ast", "continue", "lang", "symbol", "text", "tree", "abs_p", "exclude_rel", "perf_counter", "scan_cap_files", "seen_files", "lines", "set", "call", "for", "got", "none", "return", "snip"], "text_preview": "snip = \"\\n\".join(lines[max(0, a - 1) : min(len(lines), b)])\n        lang = lang_for_file(rel_p)\n        got.append((rel_p, a, b, snip, lang))\n    return got\n\n\ndef _find_callers_ast(symbol: str, *, exclude_rel: str, around: int, scan_cap_files: int, time_bu", "line_start": 106, "line_end": 136}, {"sha": "e3fc0e5a3c382fd598c4a4911cd2ae4743918c78c3199889dc19ff22afe6ac89", "index": 4, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\e3fc0e5a3c382fd598c4a4911cd2ae4743918c78c3199889dc19ff22afe6ac89.json", "terms": ["int", "around", "hit_lines", "rel_p", "lines", "snip", "append", "ast", "isinstance", "lang", "lineno", "not", "out", "symbol", "text", "build_symbol_graph", "callees_limit", "callers_limit", "file_rel", "find_line_window", "lang_for_file", "scan_cap_files", "seen_files", "time_budget_ms", "use_le"], "text_preview": "nm = None\n                if isinstance(fn, ast.Name):\n                    nm = fn.id\n                elif isinstance(fn, ast.Attribute):\n                    nm = fn.attr\n                if nm == symbol:\n                    ln = int(getattr(n, \"lineno\", 0)", "line_start": 137, "line_end": 171}, {"sha": "610e552a54ca8f32db499038dc1ee3f483c8037d87199e86d88a79eaa98ab676", "index": 5, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\610e552a54ca8f32db499038dc1ee3f483c8037d87199e86d88a79eaa98ab676.json", "terms": ["str", "callers", "use_le", "use_ls", "file_rel", "sym_name", "lang", "snip", "mid", "text", "scan_cap_files", "time_budget_ms", "abs_path", "code_block", "out_pairs", "around", "int", "and", "block", "else", "hdr", "header", "list", "not", "return"], "text_preview": ") -> List[Tuple[str, str]]:\n    \"\"\"Build a small callgraph slice: callers of the symbol and definitions of its callees.\n\n    Returns pairs of (header, code_block) strings ready to include in context.\n    Header format: \"[file_rel:ls-le] <kind>\"; code_block", "line_start": 172, "line_end": 201}, {"sha": "9f946a356aaae783a5200f15acaf16af27c96a4b8492b7d57878ec806ca4ff21", "index": 6, "path": "a8b4de97__jinx__micro__embeddings__project_callgraph.py\\9f946a356aaae783a5200f15acaf16af27c96a4b8492b7d57878ec806ca4ff21.json", "terms": ["seen_defs", "lang", "snip", "callees", "defs", "key", "tree", "scan_cap_files", "time_budget_ms", "out_pairs", "int", "set", "block", "for", "hdr", "_find_callees_in_def", "_find_def_node", "_find_defs_by_name", "_parse_ast_safe", "callees_limit", "sym_name", "add", "append", "are", "called"], "text_preview": "# 2) Callees: within this function, which names are called; then find their defs in project\n    tree = _parse_ast_safe(text)\n    if tree:\n        dn = _find_def_node(tree, sym_name)\n        if dn:\n            callees = _find_callees_in_def(dn)\n            ", "line_start": 202, "line_end": 219}], "file_terms": ["str", "int", "ast", "time_budget_ms", "not", "return", "text", "symbol", "list", "rel_p", "around", "lang", "snip", "def", "tree", "tuple", "scan_cap_files", "import", "for", "and", "continue", "none", "append", "from", "isinstance"]}