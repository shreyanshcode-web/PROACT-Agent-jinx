{"file_rel": "jinx\\micro\\runtime\\handlers\\refactor_utils.py", "file_sha256": "3ff452edde0b9ca137cb1ddd3718767cada114b0dea88ddc73e06de0c643503b", "updated_ts": 1760763313.2200437, "total_chunks": 3, "chunks": [{"sha": "b18e5c6cdb3ad1344bf9e62b36a5b4fe2aa10c6ebf1a5a89b00c077eaae31040", "index": 0, "path": "f28a2302__jinx__micro__runtime__handlers__refactor_utils.py\\b18e5c6cdb3ad1344bf9e62b36a5b4fe2aa10c6ebf1a5a89b00c077eaae31040.json", "terms": ["rel", "str", "path", "return", "import", "seg", "def", "from", "root", "project_root", "else", "parts", "_abs_path", "base", "default", "endswith", "getcwd", "jinx", "join", "lower", "name", "normpath", "not", "__future__", "__init__"], "text_preview": "from __future__ import annotations\n\nimport os\nfrom typing import List\n\nfrom jinx.async_utils.fs import read_text_raw\nfrom jinx.micro.embeddings.project_config import ROOT as PROJECT_ROOT\n\n\ndef _abs_path(p: str) -> str:\n    if not p:\n        return p\n    if", "line_start": 1, "line_end": 44}, {"sha": "81935f9744e902e60acfe377f5c9de8f4334e95a9c93148fcc6bc00f8c25162c", "index": 1, "path": "f28a2302__jinx__micro__runtime__handlers__refactor_utils.py\\81935f9744e902e60acfe377f5c9de8f4334e95a9c93148fcc6bc00f8c25162c.json", "terms": ["lines", "and", "startswith", "lstrip", "quote", "str", "return", "while", "coding", "def", "docstring", "else", "encoding", "future", "import", "imports", "line", "not", "path", "shebang", "text", "__future__", "_import_insertion_index", "_read", "read_text_raw"], "text_preview": "return s if (not s or s.endswith(\"\\n\")) else (s + \"\\n\")\n\n\nasync def _read(path: str) -> str:\n    return await read_text_raw(path)\n\n\ndef _import_insertion_index(text: str) -> int:\n    \"\"\"Find a safe index (line number 0-based) to insert import lines: after ", "line_start": 45, "line_end": 81}, {"sha": "f70dedef0221880cf2ebfdc9d9c7263749c59017645bb9ccc0665cf81740d0fe", "index": 2, "path": "f28a2302__jinx__micro__runtime__handlers__refactor_utils.py\\f70dedef0221880cf2ebfdc9d9c7263749c59017645bb9ccc0665cf81740d0fe.json", "terms": ["str", "list", "strip", "line", "return", "_append_unique_line", "any", "def", "else", "for"], "text_preview": "def _append_unique_line(lines: List[str], line: str) -> List[str]:\n    if any(ln.strip() == line.strip() for ln in lines):\n        return lines\n    return lines[:1] + [line] + lines[1:] if lines else [line]", "line_start": 82, "line_end": 85}], "file_terms": ["lines", "str", "return", "rel", "path", "and", "def", "import", "line", "startswith", "else", "from", "lstrip", "seg", "strip", "not", "root", "project_root", "list", "quote", "endswith", "parts", "while", "__future__", "_abs_path"]}