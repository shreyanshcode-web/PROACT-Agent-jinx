{"file_rel": "jinx\\micro\\llm\\chain_reflect.py", "file_sha256": "5870084d2eee96299b272db00fb5657631c8fd052a7462df23cc19afc8d86473", "updated_ts": 1760763312.098847, "total_chunks": 3, "chunks": [{"sha": "c84ab46ed83525dd98e65352e6c696b40571ada86a5910cf528cf17c39fc117d", "index": 0, "path": "a6b04e32__jinx__micro__llm__chain_reflect.py\\c84ab46ed83525dd98e65352e6c696b40571ada86a5910cf528cf17c39fc117d.json", "terms": ["str", "import", "from", "any", "dict", "evidence", "plan", "anc", "jinx", "_load_last_anchors", "jinx_chained_reflect", "user_text", "false", "json", "lines", "micro", "payload", "reflection", "summary", "try", "__future__", "chain_utils", "ensure_ascii", "extract_tagged_block", "load_last_anchors"], "text_preview": "from __future__ import annotations\n\nimport json\nimport os\nfrom typing import Any, Dict, List\n\nfrom jinx.micro.llm.service import spark_openai\nfrom .chain_utils import truthy_env, extract_tagged_block\n\n\nasync def run_reflector(user_text: str, plan: Dict[str", "line_start": 1, "line_end": 35}, {"sha": "b9ec311a5317b19cd5e18a1c3b96d4951180f67b18cb019532f2cf3fc22dbefe", "index": 1, "path": "a6b04e32__jinx__micro__llm__chain_reflect.py\\b9ec311a5317b19cd5e18a1c3b96d4951180f67b18cb019532f2cf3fc22dbefe.json", "terms": ["txt", "lines", "cont_block", "tag", "plan_mode", "line", "out", "summary", "join", "pth", "extract_tagged_block", "is_adv", "continuity", "key", "not", "advisory", "anc", "append", "body", "else", "get", "otherwise", "paths", "prompt", "raw"], "text_preview": "sy = (anc.get(\"symbols\") or [])[:3]\n        if sy:\n            lines.append(\"symbols: \" + \", \".join(sy))\n        pth = (anc.get(\"paths\") or [])[:2]\n        if pth:\n            lines.append(\"paths: \" + \", \".join(pth))\n        cont_block = (\"\\n\\n<continuity>", "line_start": 36, "line_end": 59}, {"sha": "4070d408e28700fd1e28b506af492ccdd9e9663a4c7cd74274d0ad1fffcc18c8", "index": 2, "path": "a6b04e32__jinx__micro__llm__chain_reflect.py\\4070d408e28700fd1e28b506af492ccdd9e9663a4c7cd74274d0ad1fffcc18c8.json", "terms": ["summary", "kernels_code", "result", "items", "is_adv", "startswith", "and", "kernels", "strip", "extract_tagged_block", "next_actions", "plan_kernels", "advisory", "append", "elif", "else", "except", "exception", "extract", "from", "helper", "len", "line", "lower", "mode"], "text_preview": "k, v = line.split(\":\", 1)\n        k = k.strip().lower()\n        v = v.strip()\n        if k == \"summary\" and not summary:\n            summary = v\n        elif (k.startswith(\"nudge.\") if is_adv else k.startswith(\"next.\")) and len(items) < 5:\n            if v", "line_start": 60, "line_end": 78}], "file_terms": ["summary", "str", "lines", "import", "txt", "from", "tag", "anc", "extract_tagged_block", "cont_block", "is_adv", "kernels_code", "any", "dict", "line", "out", "append", "items", "result", "plan_mode", "continuity", "evidence", "not", "plan", "advisory"]}