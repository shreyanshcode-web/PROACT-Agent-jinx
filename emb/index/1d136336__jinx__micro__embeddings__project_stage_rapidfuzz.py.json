{"file_rel": "jinx\\micro\\embeddings\\project_stage_rapidfuzz.py", "file_sha256": "b11f13346fc03f265424cc129812b73aff1a7c0f5bb7bcc4f0f14b8bf22e18b2", "updated_ts": 1760763311.571092, "total_chunks": 6, "chunks": [{"sha": "ff5d62befd8457b0d44373f1625533ce5f6d5335f00bf9edba6a4735967de5e5", "index": 0, "path": "1d136336__jinx__micro__embeddings__project_stage_rapidfuzz.py\\ff5d62befd8457b0d44373f1625533ce5f6d5335f00bf9edba6a4735967de5e5.json", "terms": ["import", "from", "str", "rapidfuzz", "type", "fuzz", "ignore", "list", "toks", "_fuzz", "codeish_tokens", "expand_strong_tokens", "partial_ratio", "def", "dep", "except", "exception", "float", "for", "none", "return", "try", "__future__", "_anchors", "_rf_partial_ratio"], "text_preview": "from __future__ import annotations\n\nimport os\nimport time\nfrom typing import Any, Dict, List, Tuple\n\nfrom .project_config import ROOT, EXCLUDE_DIRS, MAX_FILE_BYTES\nfrom .project_iter import iter_candidate_files\nfrom .project_scan_store import iter_project_", "line_start": 1, "line_end": 36}, {"sha": "fb2959121ea5ed8a4965e14a16d10a46c7e55850d54a002bf1437c5313c4eec4", "index": 1, "path": "1d136336__jinx__micro__embeddings__project_stage_rapidfuzz.py\\fb2959121ea5ed8a4965e14a16d10a46c7e55850d54a002bf1437c5313c4eec4.json", "terms": ["return", "str", "for", "max_time_ms", "set", "def", "none", "not", "out", "query", "seen", "time", "perf_counter", "toks2", "int", "anchors", "and", "append", "bad", "fuzz", "len", "list", "lower", "tokens", "toks"], "text_preview": "toks.append(t)\n    # Drop trivial tokens\n    bad = {\"for\", \"in\", \"def\", \"class\", \"return\", \"async\", \"await\"}\n    toks2 = [t for t in toks if len(t) >= 3 and t.lower() not in bad]\n    # Prefer longer unique tokens\n    seen: set[str] = set()\n    out: List[st", "line_start": 37, "line_end": 70}, {"sha": "c9d4565980e0877c0195e9de7b7ad9a7845542cd0819f5d4f1399c49d639baab", "index": 2, "path": "1d136336__jinx__micro__embeddings__project_stage_rapidfuzz.py\\c9d4565980e0877c0195e9de7b7ad9a7845542cd0819f5d4f1399c49d639baab.json", "terms": ["str", "score", "snippet", "rel_p", "int", "for", "lines", "return", "def", "hits", "len", "list", "max", "min", "none", "obj", "qlen", "query", "_anchors", "_rf_partial_ratio", "consider_window", "file_rel", "line_end", "line_start", "partial_ratio"], "text_preview": "anchors = [a.lower() for a in _anchors(q, limit=5)]\n    # Window config approximates query size\n    qlen = max(20, min(800, len(q)))\n    win_chars = int(min(max(60, qlen * 2), 1500))\n    step_lines = 6  # coarse stride for speed\n\n    hits: List[Tuple[float", "line_start": 71, "line_end": 103}, {"sha": "cdc0aae27bef28000b740e0dcd5cc8e0fbdd234d7c4239213ce4e513c43c09ef", "index": 3, "path": "1d136336__jinx__micro__embeddings__project_stage_rapidfuzz.py\\cdc0aae27bef28000b740e0dcd5cc8e0fbdd234d7c4239213ce4e513c43c09ef.json", "terms": ["lines", "cand_idxs", "for", "len", "anchors", "else", "lo_lines", "win_chars", "anchor", "around", "candidate", "char", "cur", "expand", "indices", "list", "return", "with", "left_len", "right_len", "step_lines", "time_up", "and", "append", "approximate"], "text_preview": "lines = text.splitlines()\n        lo_lines = [ln.lower() for ln in lines]\n        n = len(lines)\n        if n == 0:\n            return\n        # Anchor prefilter: collect candidate line indices containing at least one anchor\n        cand_idxs: List[int] = ", "line_start": 104, "line_end": 131}, {"sha": "53816636a353000b4af9c4a6df96f806a6579ba16eed200e5f7b7971b96e5a17", "index": 4, "path": "1d136336__jinx__micro__embeddings__project_stage_rapidfuzz.py\\53816636a353000b4af9c4a6df96f806a6579ba16eed200e5f7b7971b96e5a17.json", "terms": ["rel", "str", "return", "rel_files", "rel_p", "seen", "text", "abs_p", "left_len", "right_len", "get", "set", "and", "cur", "false", "for", "hits", "not", "obj", "process", "try", "consider_window", "file_rel", "iter_project_chunks", "scan_text"], "text_preview": "if left_len <= right_len and a > 1:\n                    a -= 1\n                    cur += left_len + 1\n                elif b < n:\n                    b += 1\n                    cur += right_len + 1\n                else:\n                    break\n         ", "line_start": 132, "line_end": 167}, {"sha": "668cabc25e99fbed7f304703b97d8f5cdc363c5076d436e10b85d6b66ff8194f", "index": 5, "path": "1d136336__jinx__micro__embeddings__project_stage_rapidfuzz.py\\668cabc25e99fbed7f304703b97d8f5cdc363c5076d436e10b85d6b66ff8194f.json", "terms": ["exclude_dirs", "max_file_bytes", "hits", "key", "lambda", "pass", "rel", "return", "sorted", "__all__", "include_exts", "iter_candidate_files", "stage_rapidfuzz_hits", "except", "exception", "files", "for", "general", "over", "process", "root", "walk"], "text_preview": "except Exception:\n        pass\n\n    # Pass 2: general walk over .py files\n    for ap, rel in iter_candidate_files(ROOT, include_exts=[\"py\"], exclude_dirs=EXCLUDE_DIRS, max_file_bytes=MAX_FILE_BYTES):\n        if process(ap, rel):\n            return sorted(h", "line_start": 168, "line_end": 179}], "file_terms": ["str", "return", "for", "lines", "import", "rel", "list", "from", "len", "def", "rel_p", "int", "and", "none", "not", "score", "anchors", "hits", "rapidfuzz", "seen", "set", "append", "fuzz", "query", "snippet"]}