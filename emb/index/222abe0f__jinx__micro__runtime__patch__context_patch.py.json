{"file_rel": "jinx\\micro\\runtime\\patch\\context_patch.py", "file_sha256": "181e43e9ea5484c346460f220843d18d98a9c9d60703f2d983ce5c9cb7478f19", "updated_ts": 1760763313.32297, "total_chunks": 3, "chunks": [{"sha": "5f80ee4fa41cd1ebda497af88189e25779155ea269413d34802cb70a90ec5e9b", "index": 0, "path": "222abe0f__jinx__micro__runtime__patch__context_patch.py\\5f80ee4fa41cd1ebda497af88189e25779155ea269413d34802cb70a90ec5e9b.json", "terms": ["import", "cur", "str", "from", "before_block", "false", "src", "the", "detect_eol", "has_trailing_newline", "read_text_raw", "src_lines", "bool", "empty", "fuzzy", "len", "lines", "matching", "path", "replacement", "return", "splitlines", "tolerance", "tuple", "with"], "text_preview": "from __future__ import annotations\n\nimport ast\nimport asyncio\nimport difflib\nfrom typing import Tuple\n\nfrom jinx.async_utils.fs import read_text_raw, write_text\nfrom .utils import (\n    unified_diff,\n    syntax_check_enabled,\n    detect_eol,\n    has_traili", "line_start": 1, "line_end": 40}, {"sha": "02da2979465803e1867dd2416410fd97f7100aeb22ea8f17e37239e62a7f64db", "index": 1, "path": "222abe0f__jinx__micro__runtime__patch__context_patch.py\\02da2979465803e1867dd2416410fd97f7100aeb22ea8f17e37239e62a7f64db.json", "terms": ["best_r_local", "match_i", "rep_lines", "best_i", "best_i_local", "return", "_best_index", "best_r", "src_lines", "indentation", "join", "context", "false", "first", "float", "for", "lines", "match", "range", "win", "auto_indent_enabled", "to_thread", "trim_trailing_ws_enabled", "trim_trailing_ws_lines", "align"], "text_preview": "if m <= 0 or n <= 0 or m > n:\n        return False, \"context size invalid\"\n    # 1) exact match first\n    match_i = -1\n    for i in range(0, n - m + 1):\n        if lines[i : i + m] == src_lines:\n            match_i = i\n            break\n    # 2) fuzzy matc", "line_start": 41, "line_end": 70}, {"sha": "dd69829f1c3c19e6e25977a622aa057d896ac4d83125246dbd1f958c46451ba9", "index": 2, "path": "222abe0f__jinx__micro__runtime__patch__context_patch.py\\dd69829f1c3c19e6e25977a622aa057d896ac4d83125246dbd1f958c46451ba9.json", "terms": ["path", "rep_lines", "out", "match_i", "lines", "return", "base_indent", "out_lines", "unified_diff", "await", "cur", "for", "syntax", "true", "join_lines", "leading_ws", "normalize_indentation", "syntax_check_enabled", "to_thread", "trailing_nl", "write_text", "and", "ast", "asyncio", "check"], "text_preview": "base_indent = leading_ws(lines[match_i])\n        rep_lines = normalize_indentation(rep_lines)\n        rep_lines = [(base_indent + ln) if ln.strip() else ln for ln in rep_lines]\n    out_lines = lines[: match_i] + rep_lines + lines[match_i + m :]\n    out = j", "line_start": 71, "line_end": 85}], "file_terms": ["rep_lines", "path", "return", "match_i", "lines", "cur", "import", "false", "str", "for", "out", "best_r_local", "src_lines", "await", "from", "the", "before_block", "best_i", "best_i_local", "unified_diff", "and", "asyncio", "context", "first", "float"]}